ARM GAS  /tmp/ccibrS9m.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"gt9xxx.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.gt9xxx_wr_reg,"ax",%progbits
  18              		.align	1
  19              		.global	gt9xxx_wr_reg
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	gt9xxx_wr_reg:
  27              	.LVL0:
  28              	.LFB126:
  29              		.file 1 "HADRWARE/TOUCH/gt9xxx.c"
   1:HADRWARE/TOUCH/gt9xxx.c **** /**
   2:HADRWARE/TOUCH/gt9xxx.c ****  **************************************************************************************************
   3:HADRWARE/TOUCH/gt9xxx.c ****  * @file        gt9xxx.c
   4:HADRWARE/TOUCH/gt9xxx.c ****  * @author      正点原子团队(ALIENTEK)
   5:HADRWARE/TOUCH/gt9xxx.c ****  * @version     V1.1
   6:HADRWARE/TOUCH/gt9xxx.c ****  * @date        2022-12-27
   7:HADRWARE/TOUCH/gt9xxx.c ****  * @brief       4.3寸电容触摸屏-GT9xxx 驱动代码
   8:HADRWARE/TOUCH/gt9xxx.c ****  *   @note      GT系列电容触摸屏IC通用驱动,本代码支持: GT9147/GT917S/GT968/GT1151/GT9271 等多种
   9:HADRWARE/TOUCH/gt9xxx.c ****  *              驱动IC, 这些驱动IC仅ID不一样, 具体代码基本不需要做任何修改即可通过本代码直接驱动
  10:HADRWARE/TOUCH/gt9xxx.c ****  *
  11:HADRWARE/TOUCH/gt9xxx.c ****  * @license     Copyright (c) 2022-2032, 广州市星翼电子科技有限公司
  12:HADRWARE/TOUCH/gt9xxx.c ****  **************************************************************************************************
  13:HADRWARE/TOUCH/gt9xxx.c ****  * @attention
  14:HADRWARE/TOUCH/gt9xxx.c ****  *
  15:HADRWARE/TOUCH/gt9xxx.c ****  * 实验平台:正点原子 阿波罗 F429开发板
  16:HADRWARE/TOUCH/gt9xxx.c ****  * 在线视频:www.yuanzige.com
  17:HADRWARE/TOUCH/gt9xxx.c ****  * 技术论坛:www.openedv.com
  18:HADRWARE/TOUCH/gt9xxx.c ****  * 公司网址:www.alientek.com
  19:HADRWARE/TOUCH/gt9xxx.c ****  * 购买地址:openedv.taobao.com
  20:HADRWARE/TOUCH/gt9xxx.c ****  *
  21:HADRWARE/TOUCH/gt9xxx.c ****  * 修改说明
  22:HADRWARE/TOUCH/gt9xxx.c ****  * V1.0 20221227
  23:HADRWARE/TOUCH/gt9xxx.c ****  * 第一次发布
  24:HADRWARE/TOUCH/gt9xxx.c ****  * V1.1 20230607
  25:HADRWARE/TOUCH/gt9xxx.c ****  * 1，新增对ST7796 3.5寸屏 GT1151的支持
  26:HADRWARE/TOUCH/gt9xxx.c ****  * 2，新增对ILI9806 4.3寸屏 GT1151的支持
  27:HADRWARE/TOUCH/gt9xxx.c ****  *
  28:HADRWARE/TOUCH/gt9xxx.c ****  **************************************************************************************************
  29:HADRWARE/TOUCH/gt9xxx.c ****  */
ARM GAS  /tmp/ccibrS9m.s 			page 2


  30:HADRWARE/TOUCH/gt9xxx.c **** 
  31:HADRWARE/TOUCH/gt9xxx.c **** #include "string.h"
  32:HADRWARE/TOUCH/gt9xxx.c **** #include "lcd.h"
  33:HADRWARE/TOUCH/gt9xxx.c **** #include "touch.h"
  34:HADRWARE/TOUCH/gt9xxx.c **** #include "ctiic.h"
  35:HADRWARE/TOUCH/gt9xxx.c **** #include "gt9xxx.h"
  36:HADRWARE/TOUCH/gt9xxx.c **** #include "usart.h"
  37:HADRWARE/TOUCH/gt9xxx.c **** #include "delay.h"
  38:HADRWARE/TOUCH/gt9xxx.c **** 
  39:HADRWARE/TOUCH/gt9xxx.c **** 
  40:HADRWARE/TOUCH/gt9xxx.c **** 
  41:HADRWARE/TOUCH/gt9xxx.c **** /* 注意: 除了GT9271支持10点触摸之外, 其他触摸芯片只支持 5点触摸 */
  42:HADRWARE/TOUCH/gt9xxx.c **** uint8_t g_gt_tnum = 5;      /* 默认支持的触摸屏点数(5点触摸) */
  43:HADRWARE/TOUCH/gt9xxx.c **** 
  44:HADRWARE/TOUCH/gt9xxx.c **** /**
  45:HADRWARE/TOUCH/gt9xxx.c ****  * @brief       向gt9xxx写入一次数据
  46:HADRWARE/TOUCH/gt9xxx.c ****  * @param       reg : 起始寄存器地址
  47:HADRWARE/TOUCH/gt9xxx.c ****  * @param       buf : 数据缓缓存区
  48:HADRWARE/TOUCH/gt9xxx.c ****  * @param       len : 写数据长度
  49:HADRWARE/TOUCH/gt9xxx.c ****  * @retval      0, 成功; 1, 失败;
  50:HADRWARE/TOUCH/gt9xxx.c ****  */
  51:HADRWARE/TOUCH/gt9xxx.c **** uint8_t gt9xxx_wr_reg(uint16_t reg, uint8_t *buf, uint8_t len)
  52:HADRWARE/TOUCH/gt9xxx.c **** {
  30              		.loc 1 52 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 52 1 is_stmt 0 view .LVU1
  35 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 24
  38              		.cfi_offset 3, -24
  39              		.cfi_offset 4, -20
  40              		.cfi_offset 5, -16
  41              		.cfi_offset 6, -12
  42              		.cfi_offset 7, -8
  43              		.cfi_offset 14, -4
  44 0002 0446     		mov	r4, r0
  45 0004 0F46     		mov	r7, r1
  46 0006 1546     		mov	r5, r2
  53:HADRWARE/TOUCH/gt9xxx.c ****     uint8_t i;
  47              		.loc 1 53 5 is_stmt 1 view .LVU2
  54:HADRWARE/TOUCH/gt9xxx.c ****     uint8_t ret = 0;
  48              		.loc 1 54 5 view .LVU3
  49              	.LVL1:
  55:HADRWARE/TOUCH/gt9xxx.c ****     ct_iic_start();
  50              		.loc 1 55 5 view .LVU4
  51 0008 FFF7FEFF 		bl	ct_iic_start
  52              	.LVL2:
  56:HADRWARE/TOUCH/gt9xxx.c ****     ct_iic_send_byte(GT9XXX_CMD_WR);    /* 发送写命令 */
  53              		.loc 1 56 5 view .LVU5
  54 000c 2820     		movs	r0, #40
  55 000e FFF7FEFF 		bl	ct_iic_send_byte
  56              	.LVL3:
  57:HADRWARE/TOUCH/gt9xxx.c ****     ct_iic_wait_ack();
  57              		.loc 1 57 5 view .LVU6
  58 0012 FFF7FEFF 		bl	ct_iic_wait_ack
ARM GAS  /tmp/ccibrS9m.s 			page 3


  59              	.LVL4:
  58:HADRWARE/TOUCH/gt9xxx.c ****     ct_iic_send_byte(reg >> 8);         /* 发送高8位地址 */
  60              		.loc 1 58 5 view .LVU7
  61 0016 200A     		lsrs	r0, r4, #8
  62 0018 FFF7FEFF 		bl	ct_iic_send_byte
  63              	.LVL5:
  59:HADRWARE/TOUCH/gt9xxx.c ****     ct_iic_wait_ack();
  64              		.loc 1 59 5 view .LVU8
  65 001c FFF7FEFF 		bl	ct_iic_wait_ack
  66              	.LVL6:
  60:HADRWARE/TOUCH/gt9xxx.c ****     ct_iic_send_byte(reg & 0XFF);       /* 发送低8位地址 */
  67              		.loc 1 60 5 view .LVU9
  68 0020 E0B2     		uxtb	r0, r4
  69 0022 FFF7FEFF 		bl	ct_iic_send_byte
  70              	.LVL7:
  61:HADRWARE/TOUCH/gt9xxx.c ****     ct_iic_wait_ack();
  71              		.loc 1 61 5 view .LVU10
  72 0026 FFF7FEFF 		bl	ct_iic_wait_ack
  73              	.LVL8:
  62:HADRWARE/TOUCH/gt9xxx.c **** 
  63:HADRWARE/TOUCH/gt9xxx.c ****     for (i = 0; i < len; i++)
  74              		.loc 1 63 5 view .LVU11
  54:HADRWARE/TOUCH/gt9xxx.c ****     ct_iic_start();
  75              		.loc 1 54 13 is_stmt 0 view .LVU12
  76 002a 0026     		movs	r6, #0
  77              		.loc 1 63 12 view .LVU13
  78 002c 3446     		mov	r4, r6
  79              		.loc 1 63 5 view .LVU14
  80 002e 01E0     		b	.L2
  81              	.LVL9:
  82              	.L6:
  83              		.loc 1 63 26 is_stmt 1 discriminator 2 view .LVU15
  84              		.loc 1 63 27 is_stmt 0 discriminator 2 view .LVU16
  85 0030 0134     		adds	r4, r4, #1
  86              	.LVL10:
  87              		.loc 1 63 27 discriminator 2 view .LVU17
  88 0032 E4B2     		uxtb	r4, r4
  89              	.LVL11:
  90              	.L2:
  91              		.loc 1 63 17 is_stmt 1 discriminator 1 view .LVU18
  92              		.loc 1 63 5 is_stmt 0 discriminator 1 view .LVU19
  93 0034 AC42     		cmp	r4, r5
  94 0036 07D2     		bcs	.L3
  64:HADRWARE/TOUCH/gt9xxx.c ****     {
  65:HADRWARE/TOUCH/gt9xxx.c ****         ct_iic_send_byte(buf[i]);       /* 发数据 */
  95              		.loc 1 65 9 is_stmt 1 view .LVU20
  96 0038 385D     		ldrb	r0, [r7, r4]	@ zero_extendqisi2
  97 003a FFF7FEFF 		bl	ct_iic_send_byte
  98              	.LVL12:
  66:HADRWARE/TOUCH/gt9xxx.c ****         ret = ct_iic_wait_ack();
  99              		.loc 1 66 9 view .LVU21
 100              		.loc 1 66 15 is_stmt 0 view .LVU22
 101 003e FFF7FEFF 		bl	ct_iic_wait_ack
 102              	.LVL13:
  67:HADRWARE/TOUCH/gt9xxx.c **** 
  68:HADRWARE/TOUCH/gt9xxx.c ****         if (ret)break;
 103              		.loc 1 68 9 is_stmt 1 view .LVU23
ARM GAS  /tmp/ccibrS9m.s 			page 4


 104              		.loc 1 68 12 is_stmt 0 view .LVU24
 105 0042 0646     		mov	r6, r0
 106 0044 0028     		cmp	r0, #0
 107 0046 F3D0     		beq	.L6
 108              	.LVL14:
 109              	.L3:
  69:HADRWARE/TOUCH/gt9xxx.c ****     }
  70:HADRWARE/TOUCH/gt9xxx.c **** 
  71:HADRWARE/TOUCH/gt9xxx.c ****     ct_iic_stop();  /* 产生一个停止条件 */
 110              		.loc 1 71 5 is_stmt 1 view .LVU25
 111 0048 FFF7FEFF 		bl	ct_iic_stop
 112              	.LVL15:
  72:HADRWARE/TOUCH/gt9xxx.c ****     return ret;
 113              		.loc 1 72 5 view .LVU26
  73:HADRWARE/TOUCH/gt9xxx.c **** }
 114              		.loc 1 73 1 is_stmt 0 view .LVU27
 115 004c 3046     		mov	r0, r6
 116 004e F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 117              		.loc 1 73 1 view .LVU28
 118              		.cfi_endproc
 119              	.LFE126:
 121              		.section	.text.gt9xxx_rd_reg,"ax",%progbits
 122              		.align	1
 123              		.global	gt9xxx_rd_reg
 124              		.syntax unified
 125              		.thumb
 126              		.thumb_func
 127              		.fpu fpv4-sp-d16
 129              	gt9xxx_rd_reg:
 130              	.LVL16:
 131              	.LFB127:
  74:HADRWARE/TOUCH/gt9xxx.c **** 
  75:HADRWARE/TOUCH/gt9xxx.c **** /**
  76:HADRWARE/TOUCH/gt9xxx.c ****  * @brief       从gt9xxx读出一次数据
  77:HADRWARE/TOUCH/gt9xxx.c ****  * @param       reg : 起始寄存器地址
  78:HADRWARE/TOUCH/gt9xxx.c ****  * @param       buf : 数据缓缓存区
  79:HADRWARE/TOUCH/gt9xxx.c ****  * @param       len : 读数据长度
  80:HADRWARE/TOUCH/gt9xxx.c ****  * @retval      无
  81:HADRWARE/TOUCH/gt9xxx.c ****  */
  82:HADRWARE/TOUCH/gt9xxx.c **** void gt9xxx_rd_reg(uint16_t reg, uint8_t *buf, uint8_t len)
  83:HADRWARE/TOUCH/gt9xxx.c **** {
 132              		.loc 1 83 1 is_stmt 1 view -0
 133              		.cfi_startproc
 134              		@ args = 0, pretend = 0, frame = 0
 135              		@ frame_needed = 0, uses_anonymous_args = 0
 136              		.loc 1 83 1 is_stmt 0 view .LVU30
 137 0000 70B5     		push	{r4, r5, r6, lr}
 138              	.LCFI1:
 139              		.cfi_def_cfa_offset 16
 140              		.cfi_offset 4, -16
 141              		.cfi_offset 5, -12
 142              		.cfi_offset 6, -8
 143              		.cfi_offset 14, -4
 144 0002 0446     		mov	r4, r0
 145 0004 0E46     		mov	r6, r1
 146 0006 1546     		mov	r5, r2
  84:HADRWARE/TOUCH/gt9xxx.c ****     uint8_t i;
ARM GAS  /tmp/ccibrS9m.s 			page 5


 147              		.loc 1 84 5 is_stmt 1 view .LVU31
  85:HADRWARE/TOUCH/gt9xxx.c ****     ct_iic_start();
 148              		.loc 1 85 5 view .LVU32
 149 0008 FFF7FEFF 		bl	ct_iic_start
 150              	.LVL17:
  86:HADRWARE/TOUCH/gt9xxx.c ****     ct_iic_send_byte(GT9XXX_CMD_WR);    /* 发送写命令 */
 151              		.loc 1 86 5 view .LVU33
 152 000c 2820     		movs	r0, #40
 153 000e FFF7FEFF 		bl	ct_iic_send_byte
 154              	.LVL18:
  87:HADRWARE/TOUCH/gt9xxx.c ****     ct_iic_wait_ack();
 155              		.loc 1 87 5 view .LVU34
 156 0012 FFF7FEFF 		bl	ct_iic_wait_ack
 157              	.LVL19:
  88:HADRWARE/TOUCH/gt9xxx.c ****     ct_iic_send_byte(reg >> 8);         /* 发送高8位地址 */
 158              		.loc 1 88 5 view .LVU35
 159 0016 200A     		lsrs	r0, r4, #8
 160 0018 FFF7FEFF 		bl	ct_iic_send_byte
 161              	.LVL20:
  89:HADRWARE/TOUCH/gt9xxx.c ****     ct_iic_wait_ack();
 162              		.loc 1 89 5 view .LVU36
 163 001c FFF7FEFF 		bl	ct_iic_wait_ack
 164              	.LVL21:
  90:HADRWARE/TOUCH/gt9xxx.c ****     ct_iic_send_byte(reg & 0XFF);       /* 发送低8位地址 */
 165              		.loc 1 90 5 view .LVU37
 166 0020 E0B2     		uxtb	r0, r4
 167 0022 FFF7FEFF 		bl	ct_iic_send_byte
 168              	.LVL22:
  91:HADRWARE/TOUCH/gt9xxx.c ****     ct_iic_wait_ack();
 169              		.loc 1 91 5 view .LVU38
 170 0026 FFF7FEFF 		bl	ct_iic_wait_ack
 171              	.LVL23:
  92:HADRWARE/TOUCH/gt9xxx.c ****     ct_iic_start();
 172              		.loc 1 92 5 view .LVU39
 173 002a FFF7FEFF 		bl	ct_iic_start
 174              	.LVL24:
  93:HADRWARE/TOUCH/gt9xxx.c ****     ct_iic_send_byte(GT9XXX_CMD_RD);    /* 发送读命令 */
 175              		.loc 1 93 5 view .LVU40
 176 002e 2920     		movs	r0, #41
 177 0030 FFF7FEFF 		bl	ct_iic_send_byte
 178              	.LVL25:
  94:HADRWARE/TOUCH/gt9xxx.c ****     ct_iic_wait_ack();
 179              		.loc 1 94 5 view .LVU41
 180 0034 FFF7FEFF 		bl	ct_iic_wait_ack
 181              	.LVL26:
  95:HADRWARE/TOUCH/gt9xxx.c **** 
  96:HADRWARE/TOUCH/gt9xxx.c ****     for (i = 0; i < len; i++)
 182              		.loc 1 96 5 view .LVU42
 183              		.loc 1 96 12 is_stmt 0 view .LVU43
 184 0038 0024     		movs	r4, #0
 185              		.loc 1 96 5 view .LVU44
 186 003a 08E0     		b	.L8
 187              	.LVL27:
 188              	.L9:
  97:HADRWARE/TOUCH/gt9xxx.c ****     {
  98:HADRWARE/TOUCH/gt9xxx.c ****         buf[i] = ct_iic_read_byte(i == (len - 1) ? 0 : 1);  /* 发数据 */
 189              		.loc 1 98 9 is_stmt 1 discriminator 3 view .LVU45
ARM GAS  /tmp/ccibrS9m.s 			page 6


 190              		.loc 1 98 45 is_stmt 0 discriminator 3 view .LVU46
 191 003c 681E     		subs	r0, r5, #1
 192              		.loc 1 98 18 discriminator 3 view .LVU47
 193 003e 201A     		subs	r0, r4, r0
 194 0040 18BF     		it	ne
 195 0042 0120     		movne	r0, #1
 196 0044 FFF7FEFF 		bl	ct_iic_read_byte
 197              	.LVL28:
 198              		.loc 1 98 16 discriminator 3 view .LVU48
 199 0048 3055     		strb	r0, [r6, r4]
  96:HADRWARE/TOUCH/gt9xxx.c ****     {
 200              		.loc 1 96 26 is_stmt 1 discriminator 3 view .LVU49
  96:HADRWARE/TOUCH/gt9xxx.c ****     {
 201              		.loc 1 96 27 is_stmt 0 discriminator 3 view .LVU50
 202 004a 0134     		adds	r4, r4, #1
 203              	.LVL29:
  96:HADRWARE/TOUCH/gt9xxx.c ****     {
 204              		.loc 1 96 27 discriminator 3 view .LVU51
 205 004c E4B2     		uxtb	r4, r4
 206              	.LVL30:
 207              	.L8:
  96:HADRWARE/TOUCH/gt9xxx.c ****     {
 208              		.loc 1 96 17 is_stmt 1 discriminator 1 view .LVU52
  96:HADRWARE/TOUCH/gt9xxx.c ****     {
 209              		.loc 1 96 5 is_stmt 0 discriminator 1 view .LVU53
 210 004e AC42     		cmp	r4, r5
 211 0050 F4D3     		bcc	.L9
  99:HADRWARE/TOUCH/gt9xxx.c ****     }
 100:HADRWARE/TOUCH/gt9xxx.c **** 
 101:HADRWARE/TOUCH/gt9xxx.c ****     ct_iic_stop();  /* 产生一个停止条件 */
 212              		.loc 1 101 5 is_stmt 1 view .LVU54
 213 0052 FFF7FEFF 		bl	ct_iic_stop
 214              	.LVL31:
 102:HADRWARE/TOUCH/gt9xxx.c **** }
 215              		.loc 1 102 1 is_stmt 0 view .LVU55
 216 0056 70BD     		pop	{r4, r5, r6, pc}
 217              		.loc 1 102 1 view .LVU56
 218              		.cfi_endproc
 219              	.LFE127:
 221              		.section	.text.gt9xxx_scan,"ax",%progbits
 222              		.align	1
 223              		.global	gt9xxx_scan
 224              		.syntax unified
 225              		.thumb
 226              		.thumb_func
 227              		.fpu fpv4-sp-d16
 229              	gt9xxx_scan:
 230              	.LVL32:
 231              	.LFB129:
 103:HADRWARE/TOUCH/gt9xxx.c **** 
 104:HADRWARE/TOUCH/gt9xxx.c **** /**
 105:HADRWARE/TOUCH/gt9xxx.c ****  * @brief       初始化gt9xxx触摸屏
 106:HADRWARE/TOUCH/gt9xxx.c ****  * @param       无
 107:HADRWARE/TOUCH/gt9xxx.c ****  * @retval      0, 初始化成功; 1, 初始化失败;
 108:HADRWARE/TOUCH/gt9xxx.c ****  */
 109:HADRWARE/TOUCH/gt9xxx.c **** uint8_t gt9xxx_init(void)
 110:HADRWARE/TOUCH/gt9xxx.c **** {
ARM GAS  /tmp/ccibrS9m.s 			page 7


 111:HADRWARE/TOUCH/gt9xxx.c ****     uint8_t temp[5];
 112:HADRWARE/TOUCH/gt9xxx.c **** 
 113:HADRWARE/TOUCH/gt9xxx.c ****     GT9XXX_RST_GPIO_CLK_ENABLE();   /* RST引脚时钟使能 */
 114:HADRWARE/TOUCH/gt9xxx.c ****     GT9XXX_INT_GPIO_CLK_ENABLE();   /* INT引脚时钟使能 */
 115:HADRWARE/TOUCH/gt9xxx.c **** 
 116:HADRWARE/TOUCH/gt9xxx.c ****     /* RST引脚模式设置, 推挽输出, 上拉 */
 117:HADRWARE/TOUCH/gt9xxx.c ****     sys_gpio_set(GT9XXX_RST_GPIO_PORT, GT9XXX_RST_GPIO_PIN,
 118:HADRWARE/TOUCH/gt9xxx.c ****                  SYS_GPIO_MODE_OUT, SYS_GPIO_OTYPE_PP, SYS_GPIO_SPEED_MID, SYS_GPIO_PUPD_PU);
 119:HADRWARE/TOUCH/gt9xxx.c **** 
 120:HADRWARE/TOUCH/gt9xxx.c ****     /* INT引脚模式设置, 输入模式, 上拉 */
 121:HADRWARE/TOUCH/gt9xxx.c ****     sys_gpio_set(GT9XXX_INT_GPIO_PORT, GT9XXX_INT_GPIO_PIN,
 122:HADRWARE/TOUCH/gt9xxx.c ****                  SYS_GPIO_MODE_IN, SYS_GPIO_OTYPE_PP, SYS_GPIO_SPEED_MID, SYS_GPIO_PUPD_PU);
 123:HADRWARE/TOUCH/gt9xxx.c **** 
 124:HADRWARE/TOUCH/gt9xxx.c ****     
 125:HADRWARE/TOUCH/gt9xxx.c ****     ct_iic_init();      /* 初始化电容屏的I2C总线 */
 126:HADRWARE/TOUCH/gt9xxx.c ****     GT9XXX_RST(0);      /* 复位 */
 127:HADRWARE/TOUCH/gt9xxx.c ****     delay_ms(10);
 128:HADRWARE/TOUCH/gt9xxx.c ****     GT9XXX_RST(1);      /* 释放复位 */
 129:HADRWARE/TOUCH/gt9xxx.c ****     delay_ms(10);
 130:HADRWARE/TOUCH/gt9xxx.c **** 
 131:HADRWARE/TOUCH/gt9xxx.c ****     /* INT引脚模式设置, 输入模式, 浮空输入 */
 132:HADRWARE/TOUCH/gt9xxx.c ****     sys_gpio_set(GT9XXX_INT_GPIO_PORT, GT9XXX_INT_GPIO_PIN, 
 133:HADRWARE/TOUCH/gt9xxx.c ****                  SYS_GPIO_MODE_IN, SYS_GPIO_OTYPE_PP, SYS_GPIO_SPEED_MID, SYS_GPIO_PUPD_NONE);
 134:HADRWARE/TOUCH/gt9xxx.c **** 
 135:HADRWARE/TOUCH/gt9xxx.c ****     delay_ms(100);
 136:HADRWARE/TOUCH/gt9xxx.c ****     gt9xxx_rd_reg(GT9XXX_PID_REG, temp, 4); /* 读取产品ID */
 137:HADRWARE/TOUCH/gt9xxx.c ****     temp[4] = 0;
 138:HADRWARE/TOUCH/gt9xxx.c ****     /* 判断一下是否是特定的触摸屏 */
 139:HADRWARE/TOUCH/gt9xxx.c ****     if (strcmp((char *)temp, "911") && strcmp((char *)temp, "9147") && strcmp((char *)temp, "1158")
 140:HADRWARE/TOUCH/gt9xxx.c ****     {
 141:HADRWARE/TOUCH/gt9xxx.c ****         return 1;   /* 若不是触摸屏用到的GT911/9147/1158/9271，则初始化失败，需硬件查看触摸IC型号以
 142:HADRWARE/TOUCH/gt9xxx.c ****     }
 143:HADRWARE/TOUCH/gt9xxx.c ****     printf("CTP ID:%s\r\n", temp);          /* 打印ID */
 144:HADRWARE/TOUCH/gt9xxx.c ****     
 145:HADRWARE/TOUCH/gt9xxx.c ****     if (strcmp((char *)temp, "9271") == 0)  /* ID==9271, 支持10点触摸 */
 146:HADRWARE/TOUCH/gt9xxx.c ****     {
 147:HADRWARE/TOUCH/gt9xxx.c ****          g_gt_tnum = 10;    /* 支持10点触摸屏 */
 148:HADRWARE/TOUCH/gt9xxx.c ****     }
 149:HADRWARE/TOUCH/gt9xxx.c ****     
 150:HADRWARE/TOUCH/gt9xxx.c ****     temp[0] = 0X02;
 151:HADRWARE/TOUCH/gt9xxx.c ****     gt9xxx_wr_reg(GT9XXX_CTRL_REG, temp, 1);    /* 软复位GT9XXX */
 152:HADRWARE/TOUCH/gt9xxx.c ****     
 153:HADRWARE/TOUCH/gt9xxx.c ****     delay_ms(10);
 154:HADRWARE/TOUCH/gt9xxx.c ****     
 155:HADRWARE/TOUCH/gt9xxx.c ****     temp[0] = 0X00;
 156:HADRWARE/TOUCH/gt9xxx.c ****     gt9xxx_wr_reg(GT9XXX_CTRL_REG, temp, 1);    /* 结束复位, 进入读坐标状态 */
 157:HADRWARE/TOUCH/gt9xxx.c ****     
 158:HADRWARE/TOUCH/gt9xxx.c ****     /* 开始读坐标  */
 159:HADRWARE/TOUCH/gt9xxx.c ****     tp_dev.touchtype |= lcddev.dir & 0X01;  
 160:HADRWARE/TOUCH/gt9xxx.c ****     tp_dev.scan = gt9xxx_scan;
 161:HADRWARE/TOUCH/gt9xxx.c ****     tp_dev.touchtype |= 0X80;
 162:HADRWARE/TOUCH/gt9xxx.c **** 
 163:HADRWARE/TOUCH/gt9xxx.c ****     return 0;
 164:HADRWARE/TOUCH/gt9xxx.c **** }
 165:HADRWARE/TOUCH/gt9xxx.c **** 
 166:HADRWARE/TOUCH/gt9xxx.c **** /* GT9XXX 10个触摸点(最多) 对应的寄存器表 */
 167:HADRWARE/TOUCH/gt9xxx.c **** const uint16_t GT9XXX_TPX_TBL[10] =
ARM GAS  /tmp/ccibrS9m.s 			page 8


 168:HADRWARE/TOUCH/gt9xxx.c **** {
 169:HADRWARE/TOUCH/gt9xxx.c ****     GT9XXX_TP1_REG, GT9XXX_TP2_REG, GT9XXX_TP3_REG, GT9XXX_TP4_REG, GT9XXX_TP5_REG,
 170:HADRWARE/TOUCH/gt9xxx.c ****     GT9XXX_TP6_REG, GT9XXX_TP7_REG, GT9XXX_TP8_REG, GT9XXX_TP9_REG, GT9XXX_TP10_REG,
 171:HADRWARE/TOUCH/gt9xxx.c **** };
 172:HADRWARE/TOUCH/gt9xxx.c **** 
 173:HADRWARE/TOUCH/gt9xxx.c **** /**
 174:HADRWARE/TOUCH/gt9xxx.c ****  * @brief       扫描触摸屏(采用查询方式)
 175:HADRWARE/TOUCH/gt9xxx.c ****  * @param       mode : 电容屏未用到次参数, 为了兼容电阻屏
 176:HADRWARE/TOUCH/gt9xxx.c ****  * @retval      当前触屏状态
 177:HADRWARE/TOUCH/gt9xxx.c ****  *   @arg       0, 触屏无触摸; 
 178:HADRWARE/TOUCH/gt9xxx.c ****  *   @arg       1, 触屏有触摸;
 179:HADRWARE/TOUCH/gt9xxx.c ****  */
 180:HADRWARE/TOUCH/gt9xxx.c **** uint8_t gt9xxx_scan(uint8_t mode)
 181:HADRWARE/TOUCH/gt9xxx.c **** {
 232              		.loc 1 181 1 is_stmt 1 view -0
 233              		.cfi_startproc
 234              		@ args = 0, pretend = 0, frame = 16
 235              		@ frame_needed = 0, uses_anonymous_args = 0
 236              		.loc 1 181 1 is_stmt 0 view .LVU58
 237 0000 10B5     		push	{r4, lr}
 238              	.LCFI2:
 239              		.cfi_def_cfa_offset 8
 240              		.cfi_offset 4, -8
 241              		.cfi_offset 14, -4
 242 0002 84B0     		sub	sp, sp, #16
 243              	.LCFI3:
 244              		.cfi_def_cfa_offset 24
 245 0004 8DF80700 		strb	r0, [sp, #7]
 182:HADRWARE/TOUCH/gt9xxx.c ****     uint8_t buf[4];
 246              		.loc 1 182 5 is_stmt 1 view .LVU59
 183:HADRWARE/TOUCH/gt9xxx.c ****     uint8_t i = 0;
 247              		.loc 1 183 5 view .LVU60
 248              		.loc 1 183 13 is_stmt 0 view .LVU61
 249 0008 0023     		movs	r3, #0
 250 000a 8DF80B30 		strb	r3, [sp, #11]
 184:HADRWARE/TOUCH/gt9xxx.c ****     uint8_t res = 0;
 251              		.loc 1 184 5 is_stmt 1 view .LVU62
 252              	.LVL33:
 185:HADRWARE/TOUCH/gt9xxx.c ****     uint16_t temp;
 253              		.loc 1 185 5 view .LVU63
 186:HADRWARE/TOUCH/gt9xxx.c ****     uint16_t tempsta;
 254              		.loc 1 186 5 view .LVU64
 187:HADRWARE/TOUCH/gt9xxx.c ****     static uint8_t t = 0;   /* 控制查询间隔,从而降低CPU占用率 */
 255              		.loc 1 187 5 view .LVU65
 188:HADRWARE/TOUCH/gt9xxx.c ****     t++;
 256              		.loc 1 188 5 view .LVU66
 257              		.loc 1 188 6 is_stmt 0 view .LVU67
 258 000e A04B     		ldr	r3, .L35
 259 0010 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 260 0012 0132     		adds	r2, r2, #1
 261 0014 D2B2     		uxtb	r2, r2
 262 0016 1A70     		strb	r2, [r3]
 189:HADRWARE/TOUCH/gt9xxx.c **** 
 190:HADRWARE/TOUCH/gt9xxx.c ****     if ((t % 10) == 0 || t < 10)    /* 空闲时,每进入10次CTP_Scan函数才检测1次,从而节省CPU使用率 */
 263              		.loc 1 190 5 is_stmt 1 view .LVU68
 264              		.loc 1 190 18 is_stmt 0 view .LVU69
 265 0018 9E4B     		ldr	r3, .L35+4
ARM GAS  /tmp/ccibrS9m.s 			page 9


 266 001a A3FB0213 		umull	r1, r3, r3, r2
 267 001e DB08     		lsrs	r3, r3, #3
 268 0020 03EB8303 		add	r3, r3, r3, lsl #2
 269 0024 A2EB4303 		sub	r3, r2, r3, lsl #1
 270              		.loc 1 190 8 view .LVU70
 271 0028 13F0FF0F 		tst	r3, #255
 272 002c 02D0     		beq	.L12
 273              		.loc 1 190 23 discriminator 1 view .LVU71
 274 002e 092A     		cmp	r2, #9
 275 0030 00F20781 		bhi	.L28
 276              	.L12:
 191:HADRWARE/TOUCH/gt9xxx.c ****     {
 192:HADRWARE/TOUCH/gt9xxx.c ****         gt9xxx_rd_reg(GT9XXX_GSTID_REG, &mode, 1);  /* 读取触摸点的状态 */
 277              		.loc 1 192 9 is_stmt 1 view .LVU72
 278 0034 0122     		movs	r2, #1
 279 0036 0DF10701 		add	r1, sp, #7
 280 003a 48F24E10 		movw	r0, #33102
 281              	.LVL34:
 282              		.loc 1 192 9 is_stmt 0 view .LVU73
 283 003e FFF7FEFF 		bl	gt9xxx_rd_reg
 284              	.LVL35:
 193:HADRWARE/TOUCH/gt9xxx.c **** 
 194:HADRWARE/TOUCH/gt9xxx.c ****         if ((mode & 0X80) && ((mode & 0XF) <= g_gt_tnum))
 285              		.loc 1 194 9 is_stmt 1 view .LVU74
 286              		.loc 1 194 13 is_stmt 0 view .LVU75
 287 0042 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 288 0046 9DF90720 		ldrsb	r2, [sp, #7]
 289              		.loc 1 194 12 view .LVU76
 290 004a 002A     		cmp	r2, #0
 291 004c 23DB     		blt	.L31
 292              	.L14:
 195:HADRWARE/TOUCH/gt9xxx.c ****         {
 196:HADRWARE/TOUCH/gt9xxx.c ****             i = 0;
 197:HADRWARE/TOUCH/gt9xxx.c ****             gt9xxx_wr_reg(GT9XXX_GSTID_REG, &i, 1); /* 清标志 */
 198:HADRWARE/TOUCH/gt9xxx.c ****         }
 199:HADRWARE/TOUCH/gt9xxx.c **** 
 200:HADRWARE/TOUCH/gt9xxx.c ****         if ((mode & 0XF) && ((mode & 0XF) <= g_gt_tnum))
 293              		.loc 1 200 9 is_stmt 1 view .LVU77
 294              		.loc 1 200 19 is_stmt 0 view .LVU78
 295 004e 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 296 0052 00F00F00 		and	r0, r0, #15
 297              		.loc 1 200 12 view .LVU79
 298 0056 0028     		cmp	r0, #0
 299 0058 00F0F480 		beq	.L13
 300              		.loc 1 200 43 discriminator 1 view .LVU80
 301 005c 8E4B     		ldr	r3, .L35+8
 302 005e 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 303              		.loc 1 200 26 discriminator 1 view .LVU81
 304 0060 9042     		cmp	r0, r2
 305 0062 00F2FE80 		bhi	.L29
 201:HADRWARE/TOUCH/gt9xxx.c ****         {
 202:HADRWARE/TOUCH/gt9xxx.c ****             temp = 0XFFFF << (mode & 0XF);  /* 将点的个数转换为1的位数,匹配tp_dev.sta定义 */
 306              		.loc 1 202 13 is_stmt 1 view .LVU82
 307              		.loc 1 202 27 is_stmt 0 view .LVU83
 308 0066 4FF6FF73 		movw	r3, #65535
 309 006a 8340     		lsls	r3, r3, r0
 310              	.LVL36:
ARM GAS  /tmp/ccibrS9m.s 			page 10


 203:HADRWARE/TOUCH/gt9xxx.c ****             tempsta = tp_dev.sta;           /* 保存当前的tp_dev.sta值 */
 311              		.loc 1 203 13 is_stmt 1 view .LVU84
 312              		.loc 1 203 21 is_stmt 0 view .LVU85
 313 006c 8B49     		ldr	r1, .L35+12
 314 006e 8C8E     		ldrh	r4, [r1, #52]
 315              	.LVL37:
 204:HADRWARE/TOUCH/gt9xxx.c ****             tp_dev.sta = (~temp) | TP_PRES_DOWN | TP_CATH_PRES;
 316              		.loc 1 204 13 is_stmt 1 view .LVU86
 317              		.loc 1 204 49 is_stmt 0 view .LVU87
 318 0070 DB43     		mvns	r3, r3
 319              	.LVL38:
 320              		.loc 1 204 49 view .LVU88
 321 0072 6FEA8343 		mvn	r3, r3, lsl #18
 322              	.LVL39:
 323              		.loc 1 204 49 view .LVU89
 324 0076 6FEA9343 		mvn	r3, r3, lsr #18
 325              		.loc 1 204 24 view .LVU90
 326 007a 8B86     		strh	r3, [r1, #52]	@ movhi
 205:HADRWARE/TOUCH/gt9xxx.c ****             tp_dev.x[g_gt_tnum - 1] = tp_dev.x[0];  /* 保存触点0的数据,保存在最后一个上 */
 327              		.loc 1 205 13 is_stmt 1 view .LVU91
 328              		.loc 1 205 47 is_stmt 0 view .LVU92
 329 007c 8889     		ldrh	r0, [r1, #12]
 330              	.LVL40:
 331              		.loc 1 205 37 view .LVU93
 332 007e D31C     		adds	r3, r2, #3
 333 0080 01EB4303 		add	r3, r1, r3, lsl #1
 334 0084 9880     		strh	r0, [r3, #4]	@ movhi
 206:HADRWARE/TOUCH/gt9xxx.c ****             tp_dev.y[g_gt_tnum - 1] = tp_dev.y[0];
 335              		.loc 1 206 13 is_stmt 1 view .LVU94
 336              		.loc 1 206 47 is_stmt 0 view .LVU95
 337 0086 0B8C     		ldrh	r3, [r1, #32]
 338              		.loc 1 206 37 view .LVU96
 339 0088 0F32     		adds	r2, r2, #15
 340 008a 21F81230 		strh	r3, [r1, r2, lsl #1]	@ movhi
 207:HADRWARE/TOUCH/gt9xxx.c **** 
 208:HADRWARE/TOUCH/gt9xxx.c ****             for (i = 0; i < g_gt_tnum; i++)
 341              		.loc 1 208 13 is_stmt 1 view .LVU97
 342              		.loc 1 208 20 is_stmt 0 view .LVU98
 343 008e 0023     		movs	r3, #0
 344 0090 8DF80B30 		strb	r3, [sp, #11]
 345              		.loc 1 208 13 view .LVU99
 346 0094 35E0     		b	.L15
 347              	.LVL41:
 348              	.L31:
 194:HADRWARE/TOUCH/gt9xxx.c ****         {
 349              		.loc 1 194 44 discriminator 1 view .LVU100
 350 0096 804A     		ldr	r2, .L35+8
 351 0098 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 194:HADRWARE/TOUCH/gt9xxx.c ****         {
 352              		.loc 1 194 27 discriminator 1 view .LVU101
 353 009a 03F00F03 		and	r3, r3, #15
 354 009e 9A42     		cmp	r2, r3
 355 00a0 D5D3     		bcc	.L14
 196:HADRWARE/TOUCH/gt9xxx.c ****             gt9xxx_wr_reg(GT9XXX_GSTID_REG, &i, 1); /* 清标志 */
 356              		.loc 1 196 13 is_stmt 1 view .LVU102
 196:HADRWARE/TOUCH/gt9xxx.c ****             gt9xxx_wr_reg(GT9XXX_GSTID_REG, &i, 1); /* 清标志 */
 357              		.loc 1 196 15 is_stmt 0 view .LVU103
ARM GAS  /tmp/ccibrS9m.s 			page 11


 358 00a2 0023     		movs	r3, #0
 359 00a4 8DF80B30 		strb	r3, [sp, #11]
 197:HADRWARE/TOUCH/gt9xxx.c ****         }
 360              		.loc 1 197 13 is_stmt 1 view .LVU104
 361 00a8 0122     		movs	r2, #1
 362 00aa 0DF10B01 		add	r1, sp, #11
 363 00ae 48F24E10 		movw	r0, #33102
 364 00b2 FFF7FEFF 		bl	gt9xxx_wr_reg
 365              	.LVL42:
 366 00b6 CAE7     		b	.L14
 367              	.LVL43:
 368              	.L17:
 209:HADRWARE/TOUCH/gt9xxx.c ****             {
 210:HADRWARE/TOUCH/gt9xxx.c ****                 if (tp_dev.sta & (1 << i))  /* 触摸有效? */
 211:HADRWARE/TOUCH/gt9xxx.c ****                 {
 212:HADRWARE/TOUCH/gt9xxx.c ****                     gt9xxx_rd_reg(GT9XXX_TPX_TBL[i], buf, 4);   /* 读取XY坐标值 */
 213:HADRWARE/TOUCH/gt9xxx.c **** 
 214:HADRWARE/TOUCH/gt9xxx.c ****                     if (lcddev.id == 0X5510 || lcddev.id == 0X9806 || lcddev.id == 0X7796)     /* 4
 215:HADRWARE/TOUCH/gt9xxx.c ****                     {
 216:HADRWARE/TOUCH/gt9xxx.c ****                         if (tp_dev.touchtype & 0X01)    /* 横屏 */
 369              		.loc 1 216 25 view .LVU105
 370              		.loc 1 216 35 is_stmt 0 view .LVU106
 371 00b8 784B     		ldr	r3, .L35+12
 372 00ba 93F84430 		ldrb	r3, [r3, #68]	@ zero_extendqisi2
 373              		.loc 1 216 28 view .LVU107
 374 00be 13F0010F 		tst	r3, #1
 375 00c2 5CD0     		beq	.L19
 217:HADRWARE/TOUCH/gt9xxx.c ****                         {
 218:HADRWARE/TOUCH/gt9xxx.c ****                             tp_dev.x[i] = lcddev.width - (((uint16_t)buf[3] << 8) + buf[2]);
 376              		.loc 1 218 29 is_stmt 1 view .LVU108
 377              		.loc 1 218 49 is_stmt 0 view .LVU109
 378 00c4 764B     		ldr	r3, .L35+16
 379 00c6 1988     		ldrh	r1, [r3]
 380              		.loc 1 218 73 view .LVU110
 381 00c8 9DF80F20 		ldrb	r2, [sp, #15]	@ zero_extendqisi2
 382              		.loc 1 218 88 view .LVU111
 383 00cc 9DF80E30 		ldrb	r3, [sp, #14]	@ zero_extendqisi2
 384              		.loc 1 218 83 view .LVU112
 385 00d0 03EB0223 		add	r3, r3, r2, lsl #8
 386 00d4 9BB2     		uxth	r3, r3
 387              		.loc 1 218 37 view .LVU113
 388 00d6 9DF80B20 		ldrb	r2, [sp, #11]	@ zero_extendqisi2
 389              		.loc 1 218 56 view .LVU114
 390 00da CB1A     		subs	r3, r1, r3
 391              		.loc 1 218 41 view .LVU115
 392 00dc 6F48     		ldr	r0, .L35+12
 393 00de 111D     		adds	r1, r2, #4
 394 00e0 00EB4101 		add	r1, r0, r1, lsl #1
 395 00e4 8B80     		strh	r3, [r1, #4]	@ movhi
 219:HADRWARE/TOUCH/gt9xxx.c ****                             tp_dev.y[i] = ((uint16_t)buf[1] << 8) + buf[0];
 396              		.loc 1 219 29 is_stmt 1 view .LVU116
 397              		.loc 1 219 57 is_stmt 0 view .LVU117
 398 00e6 9DF80D10 		ldrb	r1, [sp, #13]	@ zero_extendqisi2
 399              		.loc 1 219 72 view .LVU118
 400 00ea 9DF80C30 		ldrb	r3, [sp, #12]	@ zero_extendqisi2
 401              		.loc 1 219 67 view .LVU119
 402 00ee 03EB0123 		add	r3, r3, r1, lsl #8
ARM GAS  /tmp/ccibrS9m.s 			page 12


 403              		.loc 1 219 41 view .LVU120
 404 00f2 1032     		adds	r2, r2, #16
 405 00f4 20F81230 		strh	r3, [r0, r2, lsl #1]	@ movhi
 406              	.L16:
 208:HADRWARE/TOUCH/gt9xxx.c ****             {
 407              		.loc 1 208 40 is_stmt 1 discriminator 2 view .LVU121
 208:HADRWARE/TOUCH/gt9xxx.c ****             {
 408              		.loc 1 208 41 is_stmt 0 discriminator 2 view .LVU122
 409 00f8 9DF80B30 		ldrb	r3, [sp, #11]	@ zero_extendqisi2
 410 00fc 0133     		adds	r3, r3, #1
 411 00fe 8DF80B30 		strb	r3, [sp, #11]
 412              	.L15:
 208:HADRWARE/TOUCH/gt9xxx.c ****             {
 413              		.loc 1 208 25 is_stmt 1 discriminator 1 view .LVU123
 208:HADRWARE/TOUCH/gt9xxx.c ****             {
 414              		.loc 1 208 27 is_stmt 0 discriminator 1 view .LVU124
 415 0102 9DF80B00 		ldrb	r0, [sp, #11]	@ zero_extendqisi2
 416 0106 644B     		ldr	r3, .L35+8
 417 0108 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 208:HADRWARE/TOUCH/gt9xxx.c ****             {
 418              		.loc 1 208 13 discriminator 1 view .LVU125
 419 010a 9842     		cmp	r0, r3
 420 010c 69D2     		bcs	.L32
 210:HADRWARE/TOUCH/gt9xxx.c ****                 {
 421              		.loc 1 210 17 is_stmt 1 view .LVU126
 210:HADRWARE/TOUCH/gt9xxx.c ****                 {
 422              		.loc 1 210 27 is_stmt 0 view .LVU127
 423 010e 634B     		ldr	r3, .L35+12
 424 0110 9B8E     		ldrh	r3, [r3, #52]
 210:HADRWARE/TOUCH/gt9xxx.c ****                 {
 425              		.loc 1 210 21 view .LVU128
 426 0112 0341     		asrs	r3, r3, r0
 210:HADRWARE/TOUCH/gt9xxx.c ****                 {
 427              		.loc 1 210 20 view .LVU129
 428 0114 13F0010F 		tst	r3, #1
 429 0118 EED0     		beq	.L16
 212:HADRWARE/TOUCH/gt9xxx.c **** 
 430              		.loc 1 212 21 is_stmt 1 view .LVU130
 431 011a 0422     		movs	r2, #4
 432 011c 03A9     		add	r1, sp, #12
 433 011e 614B     		ldr	r3, .L35+20
 434 0120 33F81000 		ldrh	r0, [r3, r0, lsl #1]
 435 0124 FFF7FEFF 		bl	gt9xxx_rd_reg
 436              	.LVL44:
 214:HADRWARE/TOUCH/gt9xxx.c ****                     {
 437              		.loc 1 214 21 view .LVU131
 214:HADRWARE/TOUCH/gt9xxx.c ****                     {
 438              		.loc 1 214 31 is_stmt 0 view .LVU132
 439 0128 5D4B     		ldr	r3, .L35+16
 440 012a 9B88     		ldrh	r3, [r3, #4]
 214:HADRWARE/TOUCH/gt9xxx.c ****                     {
 441              		.loc 1 214 24 view .LVU133
 442 012c 45F21052 		movw	r2, #21776
 443 0130 9342     		cmp	r3, r2
 444 0132 C1D0     		beq	.L17
 214:HADRWARE/TOUCH/gt9xxx.c ****                     {
 445              		.loc 1 214 45 discriminator 1 view .LVU134
ARM GAS  /tmp/ccibrS9m.s 			page 13


 446 0134 49F60602 		movw	r2, #38918
 447 0138 9342     		cmp	r3, r2
 448 013a BDD0     		beq	.L17
 214:HADRWARE/TOUCH/gt9xxx.c ****                     {
 449              		.loc 1 214 68 discriminator 2 view .LVU135
 450 013c 47F29672 		movw	r2, #30614
 451 0140 9342     		cmp	r3, r2
 452 0142 B9D0     		beq	.L17
 220:HADRWARE/TOUCH/gt9xxx.c ****                         }
 221:HADRWARE/TOUCH/gt9xxx.c ****                         else
 222:HADRWARE/TOUCH/gt9xxx.c ****                         {
 223:HADRWARE/TOUCH/gt9xxx.c ****                             tp_dev.x[i] = ((uint16_t)buf[1] << 8) + buf[0];
 224:HADRWARE/TOUCH/gt9xxx.c ****                             tp_dev.y[i] = ((uint16_t)buf[3] << 8) + buf[2];
 225:HADRWARE/TOUCH/gt9xxx.c ****                         }
 226:HADRWARE/TOUCH/gt9xxx.c ****                     }
 227:HADRWARE/TOUCH/gt9xxx.c ****                     else    /* 其他型号 */
 228:HADRWARE/TOUCH/gt9xxx.c ****                     {
 229:HADRWARE/TOUCH/gt9xxx.c ****                         if (tp_dev.touchtype & 0X01)    /* 横屏 */
 453              		.loc 1 229 25 is_stmt 1 view .LVU136
 454              		.loc 1 229 35 is_stmt 0 view .LVU137
 455 0144 554B     		ldr	r3, .L35+12
 456 0146 93F84430 		ldrb	r3, [r3, #68]	@ zero_extendqisi2
 457              		.loc 1 229 28 view .LVU138
 458 014a 13F0010F 		tst	r3, #1
 459 014e 2DD0     		beq	.L20
 230:HADRWARE/TOUCH/gt9xxx.c ****                         {
 231:HADRWARE/TOUCH/gt9xxx.c ****                             tp_dev.x[i] = ((uint16_t)buf[1] << 8) + buf[0];
 460              		.loc 1 231 29 is_stmt 1 view .LVU139
 461              		.loc 1 231 57 is_stmt 0 view .LVU140
 462 0150 9DF80D20 		ldrb	r2, [sp, #13]	@ zero_extendqisi2
 463              		.loc 1 231 72 view .LVU141
 464 0154 9DF80C10 		ldrb	r1, [sp, #12]	@ zero_extendqisi2
 465              		.loc 1 231 37 view .LVU142
 466 0158 9DF80B30 		ldrb	r3, [sp, #11]	@ zero_extendqisi2
 467              		.loc 1 231 67 view .LVU143
 468 015c 01EB0221 		add	r1, r1, r2, lsl #8
 469              		.loc 1 231 41 view .LVU144
 470 0160 4E48     		ldr	r0, .L35+12
 471 0162 1A1D     		adds	r2, r3, #4
 472 0164 00EB4202 		add	r2, r0, r2, lsl #1
 473 0168 9180     		strh	r1, [r2, #4]	@ movhi
 232:HADRWARE/TOUCH/gt9xxx.c ****                             tp_dev.y[i] = ((uint16_t)buf[3] << 8) + buf[2];
 474              		.loc 1 232 29 is_stmt 1 view .LVU145
 475              		.loc 1 232 57 is_stmt 0 view .LVU146
 476 016a 9DF80F10 		ldrb	r1, [sp, #15]	@ zero_extendqisi2
 477              		.loc 1 232 72 view .LVU147
 478 016e 9DF80E20 		ldrb	r2, [sp, #14]	@ zero_extendqisi2
 479              		.loc 1 232 67 view .LVU148
 480 0172 02EB0122 		add	r2, r2, r1, lsl #8
 481              		.loc 1 232 41 view .LVU149
 482 0176 1033     		adds	r3, r3, #16
 483 0178 20F81320 		strh	r2, [r0, r3, lsl #1]	@ movhi
 484 017c BCE7     		b	.L16
 485              	.L19:
 223:HADRWARE/TOUCH/gt9xxx.c ****                             tp_dev.y[i] = ((uint16_t)buf[3] << 8) + buf[2];
 486              		.loc 1 223 29 is_stmt 1 view .LVU150
 223:HADRWARE/TOUCH/gt9xxx.c ****                             tp_dev.y[i] = ((uint16_t)buf[3] << 8) + buf[2];
ARM GAS  /tmp/ccibrS9m.s 			page 14


 487              		.loc 1 223 57 is_stmt 0 view .LVU151
 488 017e 9DF80D20 		ldrb	r2, [sp, #13]	@ zero_extendqisi2
 223:HADRWARE/TOUCH/gt9xxx.c ****                             tp_dev.y[i] = ((uint16_t)buf[3] << 8) + buf[2];
 489              		.loc 1 223 72 view .LVU152
 490 0182 9DF80C10 		ldrb	r1, [sp, #12]	@ zero_extendqisi2
 223:HADRWARE/TOUCH/gt9xxx.c ****                             tp_dev.y[i] = ((uint16_t)buf[3] << 8) + buf[2];
 491              		.loc 1 223 37 view .LVU153
 492 0186 9DF80B30 		ldrb	r3, [sp, #11]	@ zero_extendqisi2
 223:HADRWARE/TOUCH/gt9xxx.c ****                             tp_dev.y[i] = ((uint16_t)buf[3] << 8) + buf[2];
 493              		.loc 1 223 67 view .LVU154
 494 018a 01EB0221 		add	r1, r1, r2, lsl #8
 223:HADRWARE/TOUCH/gt9xxx.c ****                             tp_dev.y[i] = ((uint16_t)buf[3] << 8) + buf[2];
 495              		.loc 1 223 41 view .LVU155
 496 018e 4348     		ldr	r0, .L35+12
 497 0190 1A1D     		adds	r2, r3, #4
 498 0192 00EB4202 		add	r2, r0, r2, lsl #1
 499 0196 9180     		strh	r1, [r2, #4]	@ movhi
 224:HADRWARE/TOUCH/gt9xxx.c ****                         }
 500              		.loc 1 224 29 is_stmt 1 view .LVU156
 224:HADRWARE/TOUCH/gt9xxx.c ****                         }
 501              		.loc 1 224 57 is_stmt 0 view .LVU157
 502 0198 9DF80F10 		ldrb	r1, [sp, #15]	@ zero_extendqisi2
 224:HADRWARE/TOUCH/gt9xxx.c ****                         }
 503              		.loc 1 224 72 view .LVU158
 504 019c 9DF80E20 		ldrb	r2, [sp, #14]	@ zero_extendqisi2
 224:HADRWARE/TOUCH/gt9xxx.c ****                         }
 505              		.loc 1 224 67 view .LVU159
 506 01a0 02EB0122 		add	r2, r2, r1, lsl #8
 224:HADRWARE/TOUCH/gt9xxx.c ****                         }
 507              		.loc 1 224 41 view .LVU160
 508 01a4 1033     		adds	r3, r3, #16
 509 01a6 20F81320 		strh	r2, [r0, r3, lsl #1]	@ movhi
 510 01aa A5E7     		b	.L16
 511              	.L20:
 233:HADRWARE/TOUCH/gt9xxx.c ****                         }
 234:HADRWARE/TOUCH/gt9xxx.c ****                         else
 235:HADRWARE/TOUCH/gt9xxx.c ****                         {
 236:HADRWARE/TOUCH/gt9xxx.c ****                             tp_dev.x[i] = lcddev.width - (((uint16_t)buf[3] << 8) + buf[2]);
 512              		.loc 1 236 29 is_stmt 1 view .LVU161
 513              		.loc 1 236 49 is_stmt 0 view .LVU162
 514 01ac 3C4B     		ldr	r3, .L35+16
 515 01ae 1988     		ldrh	r1, [r3]
 516              		.loc 1 236 73 view .LVU163
 517 01b0 9DF80F20 		ldrb	r2, [sp, #15]	@ zero_extendqisi2
 518              		.loc 1 236 88 view .LVU164
 519 01b4 9DF80E30 		ldrb	r3, [sp, #14]	@ zero_extendqisi2
 520              		.loc 1 236 83 view .LVU165
 521 01b8 03EB0223 		add	r3, r3, r2, lsl #8
 522 01bc 9BB2     		uxth	r3, r3
 523              		.loc 1 236 37 view .LVU166
 524 01be 9DF80B20 		ldrb	r2, [sp, #11]	@ zero_extendqisi2
 525              		.loc 1 236 56 view .LVU167
 526 01c2 CB1A     		subs	r3, r1, r3
 527              		.loc 1 236 41 view .LVU168
 528 01c4 3548     		ldr	r0, .L35+12
 529 01c6 111D     		adds	r1, r2, #4
 530 01c8 00EB4101 		add	r1, r0, r1, lsl #1
ARM GAS  /tmp/ccibrS9m.s 			page 15


 531 01cc 8B80     		strh	r3, [r1, #4]	@ movhi
 237:HADRWARE/TOUCH/gt9xxx.c ****                             tp_dev.y[i] = ((uint16_t)buf[1] << 8) + buf[0];
 532              		.loc 1 237 29 is_stmt 1 view .LVU169
 533              		.loc 1 237 57 is_stmt 0 view .LVU170
 534 01ce 9DF80D10 		ldrb	r1, [sp, #13]	@ zero_extendqisi2
 535              		.loc 1 237 72 view .LVU171
 536 01d2 9DF80C30 		ldrb	r3, [sp, #12]	@ zero_extendqisi2
 537              		.loc 1 237 67 view .LVU172
 538 01d6 03EB0123 		add	r3, r3, r1, lsl #8
 539              		.loc 1 237 41 view .LVU173
 540 01da 1032     		adds	r2, r2, #16
 541 01dc 20F81230 		strh	r3, [r0, r2, lsl #1]	@ movhi
 542 01e0 8AE7     		b	.L16
 543              	.L32:
 238:HADRWARE/TOUCH/gt9xxx.c ****                         }
 239:HADRWARE/TOUCH/gt9xxx.c ****                     }
 240:HADRWARE/TOUCH/gt9xxx.c **** 
 241:HADRWARE/TOUCH/gt9xxx.c ****                     //printf("x[%d]:%d,y[%d]:%d\r\n", i, tp_dev.x[i], i, tp_dev.y[i]);
 242:HADRWARE/TOUCH/gt9xxx.c ****                 }
 243:HADRWARE/TOUCH/gt9xxx.c ****             }
 244:HADRWARE/TOUCH/gt9xxx.c **** 
 245:HADRWARE/TOUCH/gt9xxx.c ****             res = 1;
 544              		.loc 1 245 13 is_stmt 1 view .LVU174
 545              	.LVL45:
 246:HADRWARE/TOUCH/gt9xxx.c **** 
 247:HADRWARE/TOUCH/gt9xxx.c ****             if (tp_dev.x[0] > lcddev.width || tp_dev.y[0] > lcddev.height)  /* 非法数据(坐标超出了)
 546              		.loc 1 247 13 view .LVU175
 547              		.loc 1 247 25 is_stmt 0 view .LVU176
 548 01e2 2E4A     		ldr	r2, .L35+12
 549 01e4 9189     		ldrh	r1, [r2, #12]
 550              		.loc 1 247 37 view .LVU177
 551 01e6 2E4A     		ldr	r2, .L35+16
 552 01e8 1288     		ldrh	r2, [r2]
 553              		.loc 1 247 16 view .LVU178
 554 01ea 9142     		cmp	r1, r2
 555 01ec 05D8     		bhi	.L22
 556              		.loc 1 247 55 discriminator 1 view .LVU179
 557 01ee 2B4A     		ldr	r2, .L35+12
 558 01f0 118C     		ldrh	r1, [r2, #32]
 559              		.loc 1 247 67 discriminator 1 view .LVU180
 560 01f2 2B4A     		ldr	r2, .L35+16
 561 01f4 5288     		ldrh	r2, [r2, #2]
 562              		.loc 1 247 44 discriminator 1 view .LVU181
 563 01f6 9142     		cmp	r1, r2
 564 01f8 1ED9     		bls	.L23
 565              	.L22:
 248:HADRWARE/TOUCH/gt9xxx.c ****             {
 249:HADRWARE/TOUCH/gt9xxx.c ****                 if ((mode & 0XF) > 1)   /* 有其他点有数据,则复第二个触点的数据到第一个触点. */
 566              		.loc 1 249 17 is_stmt 1 view .LVU182
 567              		.loc 1 249 34 is_stmt 0 view .LVU183
 568 01fa 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 569              		.loc 1 249 20 view .LVU184
 570 01fe 12F00E0F 		tst	r2, #14
 571 0202 09D0     		beq	.L24
 250:HADRWARE/TOUCH/gt9xxx.c ****                 {
 251:HADRWARE/TOUCH/gt9xxx.c ****                     tp_dev.x[0] = tp_dev.x[1];
 572              		.loc 1 251 21 is_stmt 1 view .LVU185
ARM GAS  /tmp/ccibrS9m.s 			page 16


 573              		.loc 1 251 43 is_stmt 0 view .LVU186
 574 0204 254B     		ldr	r3, .L35+12
 575 0206 DA89     		ldrh	r2, [r3, #14]
 576              		.loc 1 251 33 view .LVU187
 577 0208 9A81     		strh	r2, [r3, #12]	@ movhi
 252:HADRWARE/TOUCH/gt9xxx.c ****                     tp_dev.y[0] = tp_dev.y[1];
 578              		.loc 1 252 21 is_stmt 1 view .LVU188
 579              		.loc 1 252 43 is_stmt 0 view .LVU189
 580 020a 5A8C     		ldrh	r2, [r3, #34]
 581              		.loc 1 252 33 view .LVU190
 582 020c 1A84     		strh	r2, [r3, #32]	@ movhi
 253:HADRWARE/TOUCH/gt9xxx.c ****                     t = 0;  /* 触发一次,则会最少连续监测10次,从而提高命中率 */
 583              		.loc 1 253 21 is_stmt 1 view .LVU191
 584              		.loc 1 253 23 is_stmt 0 view .LVU192
 585 020e 204B     		ldr	r3, .L35
 586 0210 0022     		movs	r2, #0
 587 0212 1A70     		strb	r2, [r3]
 245:HADRWARE/TOUCH/gt9xxx.c **** 
 588              		.loc 1 245 17 view .LVU193
 589 0214 0120     		movs	r0, #1
 590 0216 15E0     		b	.L13
 591              	.L24:
 254:HADRWARE/TOUCH/gt9xxx.c ****                 }
 255:HADRWARE/TOUCH/gt9xxx.c ****                 else        /* 非法数据,则忽略此次数据(还原原来的) */
 256:HADRWARE/TOUCH/gt9xxx.c ****                 {
 257:HADRWARE/TOUCH/gt9xxx.c ****                     tp_dev.x[0] = tp_dev.x[g_gt_tnum - 1];
 592              		.loc 1 257 21 is_stmt 1 view .LVU194
 593              		.loc 1 257 43 is_stmt 0 view .LVU195
 594 0218 204A     		ldr	r2, .L35+12
 595 021a D91C     		adds	r1, r3, #3
 596 021c 02EB4101 		add	r1, r2, r1, lsl #1
 597 0220 8988     		ldrh	r1, [r1, #4]
 598              		.loc 1 257 33 view .LVU196
 599 0222 9181     		strh	r1, [r2, #12]	@ movhi
 258:HADRWARE/TOUCH/gt9xxx.c ****                     tp_dev.y[0] = tp_dev.y[g_gt_tnum - 1];
 600              		.loc 1 258 21 is_stmt 1 view .LVU197
 601              		.loc 1 258 43 is_stmt 0 view .LVU198
 602 0224 0F33     		adds	r3, r3, #15
 603 0226 32F81330 		ldrh	r3, [r2, r3, lsl #1]
 604              		.loc 1 258 33 view .LVU199
 605 022a 1384     		strh	r3, [r2, #32]	@ movhi
 259:HADRWARE/TOUCH/gt9xxx.c ****                     mode = 0X80;
 606              		.loc 1 259 21 is_stmt 1 view .LVU200
 607              		.loc 1 259 26 is_stmt 0 view .LVU201
 608 022c 8023     		movs	r3, #128
 609 022e 8DF80730 		strb	r3, [sp, #7]
 260:HADRWARE/TOUCH/gt9xxx.c ****                     tp_dev.sta = tempsta;   /* 恢复tp_dev.sta */
 610              		.loc 1 260 21 is_stmt 1 view .LVU202
 611              		.loc 1 260 32 is_stmt 0 view .LVU203
 612 0232 9486     		strh	r4, [r2, #52]	@ movhi
 245:HADRWARE/TOUCH/gt9xxx.c **** 
 613              		.loc 1 245 17 view .LVU204
 614 0234 0120     		movs	r0, #1
 615 0236 05E0     		b	.L13
 616              	.L23:
 261:HADRWARE/TOUCH/gt9xxx.c ****                 }
 262:HADRWARE/TOUCH/gt9xxx.c ****             }
ARM GAS  /tmp/ccibrS9m.s 			page 17


 263:HADRWARE/TOUCH/gt9xxx.c ****             else 
 264:HADRWARE/TOUCH/gt9xxx.c ****             {
 265:HADRWARE/TOUCH/gt9xxx.c ****                 t = 0;      /* 触发一次,则会最少连续监测10次,从而提高命中率 */
 617              		.loc 1 265 17 is_stmt 1 view .LVU205
 618              		.loc 1 265 19 is_stmt 0 view .LVU206
 619 0238 154B     		ldr	r3, .L35
 620 023a 0022     		movs	r2, #0
 621 023c 1A70     		strb	r2, [r3]
 245:HADRWARE/TOUCH/gt9xxx.c **** 
 622              		.loc 1 245 17 view .LVU207
 623 023e 0120     		movs	r0, #1
 624 0240 00E0     		b	.L13
 625              	.LVL46:
 626              	.L28:
 184:HADRWARE/TOUCH/gt9xxx.c ****     uint16_t temp;
 627              		.loc 1 184 13 view .LVU208
 628 0242 0020     		movs	r0, #0
 629              	.LVL47:
 630              	.L13:
 266:HADRWARE/TOUCH/gt9xxx.c ****             }
 267:HADRWARE/TOUCH/gt9xxx.c ****         }
 268:HADRWARE/TOUCH/gt9xxx.c ****     }
 269:HADRWARE/TOUCH/gt9xxx.c **** 
 270:HADRWARE/TOUCH/gt9xxx.c ****     if ((mode & 0X8F) == 0X80)  /* 无触摸点按下 */
 631              		.loc 1 270 5 is_stmt 1 view .LVU209
 632              		.loc 1 270 15 is_stmt 0 view .LVU210
 633 0244 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 634              		.loc 1 270 8 view .LVU211
 635 0248 03F08F03 		and	r3, r3, #143
 636 024c 802B     		cmp	r3, #128
 637 024e 0AD0     		beq	.L33
 638              	.L25:
 271:HADRWARE/TOUCH/gt9xxx.c ****     {
 272:HADRWARE/TOUCH/gt9xxx.c ****         if (tp_dev.sta & TP_PRES_DOWN)      /* 之前是被按下的 */
 273:HADRWARE/TOUCH/gt9xxx.c ****         {
 274:HADRWARE/TOUCH/gt9xxx.c ****             tp_dev.sta &= ~TP_PRES_DOWN;    /* 标记按键松开 */
 275:HADRWARE/TOUCH/gt9xxx.c ****         }
 276:HADRWARE/TOUCH/gt9xxx.c ****         else    /* 之前就没有被按下 */
 277:HADRWARE/TOUCH/gt9xxx.c ****         {
 278:HADRWARE/TOUCH/gt9xxx.c ****             tp_dev.x[0] = 0xffff;
 279:HADRWARE/TOUCH/gt9xxx.c ****             tp_dev.y[0] = 0xffff;
 280:HADRWARE/TOUCH/gt9xxx.c ****             tp_dev.sta &= 0XE000;           /* 清除点有效标记 */
 281:HADRWARE/TOUCH/gt9xxx.c ****         }
 282:HADRWARE/TOUCH/gt9xxx.c ****     }
 283:HADRWARE/TOUCH/gt9xxx.c **** 
 284:HADRWARE/TOUCH/gt9xxx.c ****     if (t > 240)t = 10; /* 重新从10开始计数 */
 639              		.loc 1 284 5 is_stmt 1 view .LVU212
 640              		.loc 1 284 11 is_stmt 0 view .LVU213
 641 0250 0F4B     		ldr	r3, .L35
 642 0252 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 643              		.loc 1 284 8 view .LVU214
 644 0254 F02B     		cmp	r3, #240
 645 0256 02D9     		bls	.L27
 646              		.loc 1 284 17 is_stmt 1 discriminator 1 view .LVU215
 647              		.loc 1 284 19 is_stmt 0 discriminator 1 view .LVU216
 648 0258 0D4B     		ldr	r3, .L35
 649 025a 0A22     		movs	r2, #10
ARM GAS  /tmp/ccibrS9m.s 			page 18


 650 025c 1A70     		strb	r2, [r3]
 651              	.L27:
 285:HADRWARE/TOUCH/gt9xxx.c **** 
 286:HADRWARE/TOUCH/gt9xxx.c ****     return res;
 652              		.loc 1 286 5 is_stmt 1 view .LVU217
 287:HADRWARE/TOUCH/gt9xxx.c **** }
 653              		.loc 1 287 1 is_stmt 0 view .LVU218
 654 025e 04B0     		add	sp, sp, #16
 655              	.LCFI4:
 656              		.cfi_remember_state
 657              		.cfi_def_cfa_offset 8
 658              		@ sp needed
 659 0260 10BD     		pop	{r4, pc}
 660              	.LVL48:
 661              	.L29:
 662              	.LCFI5:
 663              		.cfi_restore_state
 184:HADRWARE/TOUCH/gt9xxx.c ****     uint16_t temp;
 664              		.loc 1 184 13 view .LVU219
 665 0262 0020     		movs	r0, #0
 666 0264 EEE7     		b	.L13
 667              	.LVL49:
 668              	.L33:
 272:HADRWARE/TOUCH/gt9xxx.c ****         {
 669              		.loc 1 272 9 is_stmt 1 view .LVU220
 272:HADRWARE/TOUCH/gt9xxx.c ****         {
 670              		.loc 1 272 19 is_stmt 0 view .LVU221
 671 0266 0D4A     		ldr	r2, .L35+12
 672 0268 938E     		ldrh	r3, [r2, #52]
 272:HADRWARE/TOUCH/gt9xxx.c ****         {
 673              		.loc 1 272 13 view .LVU222
 674 026a B2F93420 		ldrsh	r2, [r2, #52]
 272:HADRWARE/TOUCH/gt9xxx.c ****         {
 675              		.loc 1 272 12 view .LVU223
 676 026e 002A     		cmp	r2, #0
 677 0270 08DB     		blt	.L34
 278:HADRWARE/TOUCH/gt9xxx.c ****             tp_dev.y[0] = 0xffff;
 678              		.loc 1 278 13 is_stmt 1 view .LVU224
 278:HADRWARE/TOUCH/gt9xxx.c ****             tp_dev.y[0] = 0xffff;
 679              		.loc 1 278 25 is_stmt 0 view .LVU225
 680 0272 0A4A     		ldr	r2, .L35+12
 681 0274 4FF6FF71 		movw	r1, #65535
 682 0278 9181     		strh	r1, [r2, #12]	@ movhi
 279:HADRWARE/TOUCH/gt9xxx.c ****             tp_dev.sta &= 0XE000;           /* 清除点有效标记 */
 683              		.loc 1 279 13 is_stmt 1 view .LVU226
 279:HADRWARE/TOUCH/gt9xxx.c ****             tp_dev.sta &= 0XE000;           /* 清除点有效标记 */
 684              		.loc 1 279 25 is_stmt 0 view .LVU227
 685 027a 1184     		strh	r1, [r2, #32]	@ movhi
 280:HADRWARE/TOUCH/gt9xxx.c ****         }
 686              		.loc 1 280 13 is_stmt 1 view .LVU228
 280:HADRWARE/TOUCH/gt9xxx.c ****         }
 687              		.loc 1 280 24 is_stmt 0 view .LVU229
 688 027c 03F46043 		and	r3, r3, #57344
 689 0280 9386     		strh	r3, [r2, #52]	@ movhi
 690 0282 E5E7     		b	.L25
 691              	.L34:
 274:HADRWARE/TOUCH/gt9xxx.c ****         }
ARM GAS  /tmp/ccibrS9m.s 			page 19


 692              		.loc 1 274 13 is_stmt 1 view .LVU230
 274:HADRWARE/TOUCH/gt9xxx.c ****         }
 693              		.loc 1 274 24 is_stmt 0 view .LVU231
 694 0284 C3F30E03 		ubfx	r3, r3, #0, #15
 695 0288 044A     		ldr	r2, .L35+12
 696 028a 9386     		strh	r3, [r2, #52]	@ movhi
 697 028c E0E7     		b	.L25
 698              	.L36:
 699 028e 00BF     		.align	2
 700              	.L35:
 701 0290 00000000 		.word	.LANCHOR0
 702 0294 CDCCCCCC 		.word	-858993459
 703 0298 00000000 		.word	.LANCHOR1
 704 029c 00000000 		.word	tp_dev
 705 02a0 00000000 		.word	lcddev
 706 02a4 00000000 		.word	.LANCHOR2
 707              		.cfi_endproc
 708              	.LFE129:
 710              		.section	.rodata.gt9xxx_init.str1.4,"aMS",%progbits,1
 711              		.align	2
 712              	.LC0:
 713 0000 39313100 		.ascii	"911\000"
 714              		.align	2
 715              	.LC1:
 716 0004 39313437 		.ascii	"9147\000"
 716      00
 717 0009 000000   		.align	2
 718              	.LC2:
 719 000c 31313538 		.ascii	"1158\000"
 719      00
 720 0011 000000   		.align	2
 721              	.LC3:
 722 0014 39323731 		.ascii	"9271\000"
 722      00
 723 0019 000000   		.align	2
 724              	.LC4:
 725 001c 43545020 		.ascii	"CTP ID:%s\015\012\000"
 725      49443A25 
 725      730D0A00 
 726              		.section	.text.gt9xxx_init,"ax",%progbits
 727              		.align	1
 728              		.global	gt9xxx_init
 729              		.syntax unified
 730              		.thumb
 731              		.thumb_func
 732              		.fpu fpv4-sp-d16
 734              	gt9xxx_init:
 735              	.LFB128:
 110:HADRWARE/TOUCH/gt9xxx.c ****     uint8_t temp[5];
 736              		.loc 1 110 1 is_stmt 1 view -0
 737              		.cfi_startproc
 738              		@ args = 0, pretend = 0, frame = 8
 739              		@ frame_needed = 0, uses_anonymous_args = 0
 740 0000 70B5     		push	{r4, r5, r6, lr}
 741              	.LCFI6:
 742              		.cfi_def_cfa_offset 16
 743              		.cfi_offset 4, -16
ARM GAS  /tmp/ccibrS9m.s 			page 20


 744              		.cfi_offset 5, -12
 745              		.cfi_offset 6, -8
 746              		.cfi_offset 14, -4
 747 0002 84B0     		sub	sp, sp, #16
 748              	.LCFI7:
 749              		.cfi_def_cfa_offset 32
 111:HADRWARE/TOUCH/gt9xxx.c **** 
 750              		.loc 1 111 5 view .LVU233
 113:HADRWARE/TOUCH/gt9xxx.c ****     GT9XXX_INT_GPIO_CLK_ENABLE();   /* INT引脚时钟使能 */
 751              		.loc 1 113 5 view .LVU234
 113:HADRWARE/TOUCH/gt9xxx.c ****     GT9XXX_INT_GPIO_CLK_ENABLE();   /* INT引脚时钟使能 */
 752              		.loc 1 113 5 view .LVU235
 753 0004 484B     		ldr	r3, .L43
 754 0006 1A6B     		ldr	r2, [r3, #48]
 755 0008 42F48072 		orr	r2, r2, #256
 756 000c 1A63     		str	r2, [r3, #48]
 113:HADRWARE/TOUCH/gt9xxx.c ****     GT9XXX_INT_GPIO_CLK_ENABLE();   /* INT引脚时钟使能 */
 757              		.loc 1 113 5 view .LVU236
 114:HADRWARE/TOUCH/gt9xxx.c **** 
 758              		.loc 1 114 5 view .LVU237
 114:HADRWARE/TOUCH/gt9xxx.c **** 
 759              		.loc 1 114 5 view .LVU238
 760 000e 1A6B     		ldr	r2, [r3, #48]
 761 0010 42F08002 		orr	r2, r2, #128
 762 0014 1A63     		str	r2, [r3, #48]
 114:HADRWARE/TOUCH/gt9xxx.c **** 
 763              		.loc 1 114 5 view .LVU239
 117:HADRWARE/TOUCH/gt9xxx.c ****                  SYS_GPIO_MODE_OUT, SYS_GPIO_OTYPE_PP, SYS_GPIO_SPEED_MID, SYS_GPIO_PUPD_PU);
 764              		.loc 1 117 5 view .LVU240
 765 0016 454D     		ldr	r5, .L43+4
 766 0018 0124     		movs	r4, #1
 767 001a 0194     		str	r4, [sp, #4]
 768 001c 0094     		str	r4, [sp]
 769 001e 0023     		movs	r3, #0
 770 0020 2246     		mov	r2, r4
 771 0022 4FF48071 		mov	r1, #256
 772 0026 2846     		mov	r0, r5
 773 0028 FFF7FEFF 		bl	sys_gpio_set
 774              	.LVL50:
 121:HADRWARE/TOUCH/gt9xxx.c ****                  SYS_GPIO_MODE_IN, SYS_GPIO_OTYPE_PP, SYS_GPIO_SPEED_MID, SYS_GPIO_PUPD_PU);
 775              		.loc 1 121 5 view .LVU241
 776 002c 404E     		ldr	r6, .L43+8
 777 002e 0194     		str	r4, [sp, #4]
 778 0030 0094     		str	r4, [sp]
 779 0032 0023     		movs	r3, #0
 780 0034 1A46     		mov	r2, r3
 781 0036 8021     		movs	r1, #128
 782 0038 3046     		mov	r0, r6
 783 003a FFF7FEFF 		bl	sys_gpio_set
 784              	.LVL51:
 125:HADRWARE/TOUCH/gt9xxx.c ****     GT9XXX_RST(0);      /* 复位 */
 785              		.loc 1 125 5 view .LVU242
 786 003e FFF7FEFF 		bl	ct_iic_init
 787              	.LVL52:
 126:HADRWARE/TOUCH/gt9xxx.c ****     delay_ms(10);
 788              		.loc 1 126 5 view .LVU243
 789 0042 0022     		movs	r2, #0
ARM GAS  /tmp/ccibrS9m.s 			page 21


 790 0044 4FF48071 		mov	r1, #256
 791 0048 2846     		mov	r0, r5
 792 004a FFF7FEFF 		bl	sys_gpio_pin_set
 793              	.LVL53:
 127:HADRWARE/TOUCH/gt9xxx.c ****     GT9XXX_RST(1);      /* 释放复位 */
 794              		.loc 1 127 5 view .LVU244
 795 004e 0A20     		movs	r0, #10
 796 0050 FFF7FEFF 		bl	delay_ms
 797              	.LVL54:
 128:HADRWARE/TOUCH/gt9xxx.c ****     delay_ms(10);
 798              		.loc 1 128 5 view .LVU245
 799 0054 2246     		mov	r2, r4
 800 0056 4FF48071 		mov	r1, #256
 801 005a 2846     		mov	r0, r5
 802 005c FFF7FEFF 		bl	sys_gpio_pin_set
 803              	.LVL55:
 129:HADRWARE/TOUCH/gt9xxx.c **** 
 804              		.loc 1 129 5 view .LVU246
 805 0060 0A20     		movs	r0, #10
 806 0062 FFF7FEFF 		bl	delay_ms
 807              	.LVL56:
 132:HADRWARE/TOUCH/gt9xxx.c ****                  SYS_GPIO_MODE_IN, SYS_GPIO_OTYPE_PP, SYS_GPIO_SPEED_MID, SYS_GPIO_PUPD_NONE);
 808              		.loc 1 132 5 view .LVU247
 809 0066 0025     		movs	r5, #0
 810 0068 0195     		str	r5, [sp, #4]
 811 006a 0094     		str	r4, [sp]
 812 006c 2B46     		mov	r3, r5
 813 006e 2A46     		mov	r2, r5
 814 0070 8021     		movs	r1, #128
 815 0072 3046     		mov	r0, r6
 816 0074 FFF7FEFF 		bl	sys_gpio_set
 817              	.LVL57:
 135:HADRWARE/TOUCH/gt9xxx.c ****     gt9xxx_rd_reg(GT9XXX_PID_REG, temp, 4); /* 读取产品ID */
 818              		.loc 1 135 5 view .LVU248
 819 0078 6420     		movs	r0, #100
 820 007a FFF7FEFF 		bl	delay_ms
 821              	.LVL58:
 136:HADRWARE/TOUCH/gt9xxx.c ****     temp[4] = 0;
 822              		.loc 1 136 5 view .LVU249
 823 007e 0422     		movs	r2, #4
 824 0080 02A9     		add	r1, sp, #8
 825 0082 48F24010 		movw	r0, #33088
 826 0086 FFF7FEFF 		bl	gt9xxx_rd_reg
 827              	.LVL59:
 137:HADRWARE/TOUCH/gt9xxx.c ****     /* 判断一下是否是特定的触摸屏 */
 828              		.loc 1 137 5 view .LVU250
 137:HADRWARE/TOUCH/gt9xxx.c ****     /* 判断一下是否是特定的触摸屏 */
 829              		.loc 1 137 13 is_stmt 0 view .LVU251
 830 008a 8DF80C50 		strb	r5, [sp, #12]
 139:HADRWARE/TOUCH/gt9xxx.c ****     {
 831              		.loc 1 139 5 is_stmt 1 view .LVU252
 139:HADRWARE/TOUCH/gt9xxx.c ****     {
 832              		.loc 1 139 9 is_stmt 0 view .LVU253
 833 008e 2949     		ldr	r1, .L43+12
 834 0090 02A8     		add	r0, sp, #8
 835 0092 FFF7FEFF 		bl	strcmp
 836              	.LVL60:
ARM GAS  /tmp/ccibrS9m.s 			page 22


 139:HADRWARE/TOUCH/gt9xxx.c ****     {
 837              		.loc 1 139 8 view .LVU254
 838 0096 78B1     		cbz	r0, .L38
 139:HADRWARE/TOUCH/gt9xxx.c ****     {
 839              		.loc 1 139 40 discriminator 1 view .LVU255
 840 0098 2749     		ldr	r1, .L43+16
 841 009a 02A8     		add	r0, sp, #8
 842 009c FFF7FEFF 		bl	strcmp
 843              	.LVL61:
 139:HADRWARE/TOUCH/gt9xxx.c ****     {
 844              		.loc 1 139 37 discriminator 1 view .LVU256
 845 00a0 50B1     		cbz	r0, .L38
 139:HADRWARE/TOUCH/gt9xxx.c ****     {
 846              		.loc 1 139 72 discriminator 2 view .LVU257
 847 00a2 2649     		ldr	r1, .L43+20
 848 00a4 02A8     		add	r0, sp, #8
 849 00a6 FFF7FEFF 		bl	strcmp
 850              	.LVL62:
 139:HADRWARE/TOUCH/gt9xxx.c ****     {
 851              		.loc 1 139 69 discriminator 2 view .LVU258
 852 00aa 28B1     		cbz	r0, .L38
 139:HADRWARE/TOUCH/gt9xxx.c ****     {
 853              		.loc 1 139 104 discriminator 3 view .LVU259
 854 00ac 2449     		ldr	r1, .L43+24
 855 00ae 02A8     		add	r0, sp, #8
 856 00b0 FFF7FEFF 		bl	strcmp
 857              	.LVL63:
 139:HADRWARE/TOUCH/gt9xxx.c ****     {
 858              		.loc 1 139 101 discriminator 3 view .LVU260
 859 00b4 0028     		cmp	r0, #0
 860 00b6 34D1     		bne	.L41
 861              	.L38:
 143:HADRWARE/TOUCH/gt9xxx.c ****     
 862              		.loc 1 143 5 is_stmt 1 view .LVU261
 863 00b8 02A9     		add	r1, sp, #8
 864 00ba 2248     		ldr	r0, .L43+28
 865 00bc FFF7FEFF 		bl	printf
 866              	.LVL64:
 145:HADRWARE/TOUCH/gt9xxx.c ****     {
 867              		.loc 1 145 5 view .LVU262
 145:HADRWARE/TOUCH/gt9xxx.c ****     {
 868              		.loc 1 145 9 is_stmt 0 view .LVU263
 869 00c0 1F49     		ldr	r1, .L43+24
 870 00c2 02A8     		add	r0, sp, #8
 871 00c4 FFF7FEFF 		bl	strcmp
 872              	.LVL65:
 145:HADRWARE/TOUCH/gt9xxx.c ****     {
 873              		.loc 1 145 8 view .LVU264
 874 00c8 10B9     		cbnz	r0, .L40
 147:HADRWARE/TOUCH/gt9xxx.c ****     }
 875              		.loc 1 147 10 is_stmt 1 view .LVU265
 147:HADRWARE/TOUCH/gt9xxx.c ****     }
 876              		.loc 1 147 20 is_stmt 0 view .LVU266
 877 00ca 1F4B     		ldr	r3, .L43+32
 878 00cc 0A22     		movs	r2, #10
 879 00ce 1A70     		strb	r2, [r3]
 880              	.L40:
ARM GAS  /tmp/ccibrS9m.s 			page 23


 150:HADRWARE/TOUCH/gt9xxx.c ****     gt9xxx_wr_reg(GT9XXX_CTRL_REG, temp, 1);    /* 软复位GT9XXX */
 881              		.loc 1 150 5 is_stmt 1 view .LVU267
 150:HADRWARE/TOUCH/gt9xxx.c ****     gt9xxx_wr_reg(GT9XXX_CTRL_REG, temp, 1);    /* 软复位GT9XXX */
 882              		.loc 1 150 13 is_stmt 0 view .LVU268
 883 00d0 0223     		movs	r3, #2
 884 00d2 8DF80830 		strb	r3, [sp, #8]
 151:HADRWARE/TOUCH/gt9xxx.c ****     
 885              		.loc 1 151 5 is_stmt 1 view .LVU269
 886 00d6 0122     		movs	r2, #1
 887 00d8 02A9     		add	r1, sp, #8
 888 00da 48F24000 		movw	r0, #32832
 889 00de FFF7FEFF 		bl	gt9xxx_wr_reg
 890              	.LVL66:
 153:HADRWARE/TOUCH/gt9xxx.c ****     
 891              		.loc 1 153 5 view .LVU270
 892 00e2 0A20     		movs	r0, #10
 893 00e4 FFF7FEFF 		bl	delay_ms
 894              	.LVL67:
 155:HADRWARE/TOUCH/gt9xxx.c ****     gt9xxx_wr_reg(GT9XXX_CTRL_REG, temp, 1);    /* 结束复位, 进入读坐标状态 */
 895              		.loc 1 155 5 view .LVU271
 155:HADRWARE/TOUCH/gt9xxx.c ****     gt9xxx_wr_reg(GT9XXX_CTRL_REG, temp, 1);    /* 结束复位, 进入读坐标状态 */
 896              		.loc 1 155 13 is_stmt 0 view .LVU272
 897 00e8 0024     		movs	r4, #0
 898 00ea 8DF80840 		strb	r4, [sp, #8]
 156:HADRWARE/TOUCH/gt9xxx.c ****     
 899              		.loc 1 156 5 is_stmt 1 view .LVU273
 900 00ee 0122     		movs	r2, #1
 901 00f0 02A9     		add	r1, sp, #8
 902 00f2 48F24000 		movw	r0, #32832
 903 00f6 FFF7FEFF 		bl	gt9xxx_wr_reg
 904              	.LVL68:
 159:HADRWARE/TOUCH/gt9xxx.c ****     tp_dev.scan = gt9xxx_scan;
 905              		.loc 1 159 5 view .LVU274
 159:HADRWARE/TOUCH/gt9xxx.c ****     tp_dev.scan = gt9xxx_scan;
 906              		.loc 1 159 31 is_stmt 0 view .LVU275
 907 00fa 144B     		ldr	r3, .L43+36
 908 00fc 93F90630 		ldrsb	r3, [r3, #6]
 159:HADRWARE/TOUCH/gt9xxx.c ****     tp_dev.scan = gt9xxx_scan;
 909              		.loc 1 159 36 view .LVU276
 910 0100 03F00103 		and	r3, r3, #1
 159:HADRWARE/TOUCH/gt9xxx.c ****     tp_dev.scan = gt9xxx_scan;
 911              		.loc 1 159 22 view .LVU277
 912 0104 124A     		ldr	r2, .L43+40
 913 0106 92F84410 		ldrb	r1, [r2, #68]	@ zero_extendqisi2
 914 010a 0B43     		orrs	r3, r3, r1
 915 010c 82F84430 		strb	r3, [r2, #68]
 160:HADRWARE/TOUCH/gt9xxx.c ****     tp_dev.touchtype |= 0X80;
 916              		.loc 1 160 5 is_stmt 1 view .LVU278
 160:HADRWARE/TOUCH/gt9xxx.c ****     tp_dev.touchtype |= 0X80;
 917              		.loc 1 160 17 is_stmt 0 view .LVU279
 918 0110 1049     		ldr	r1, .L43+44
 919 0112 5160     		str	r1, [r2, #4]
 161:HADRWARE/TOUCH/gt9xxx.c **** 
 920              		.loc 1 161 5 is_stmt 1 view .LVU280
 161:HADRWARE/TOUCH/gt9xxx.c **** 
 921              		.loc 1 161 22 is_stmt 0 view .LVU281
 922 0114 63F07F03 		orn	r3, r3, #127
ARM GAS  /tmp/ccibrS9m.s 			page 24


 923 0118 82F84430 		strb	r3, [r2, #68]
 163:HADRWARE/TOUCH/gt9xxx.c **** }
 924              		.loc 1 163 5 is_stmt 1 view .LVU282
 163:HADRWARE/TOUCH/gt9xxx.c **** }
 925              		.loc 1 163 12 is_stmt 0 view .LVU283
 926 011c 2046     		mov	r0, r4
 927              	.L39:
 164:HADRWARE/TOUCH/gt9xxx.c **** 
 928              		.loc 1 164 1 view .LVU284
 929 011e 04B0     		add	sp, sp, #16
 930              	.LCFI8:
 931              		.cfi_remember_state
 932              		.cfi_def_cfa_offset 16
 933              		@ sp needed
 934 0120 70BD     		pop	{r4, r5, r6, pc}
 935              	.L41:
 936              	.LCFI9:
 937              		.cfi_restore_state
 141:HADRWARE/TOUCH/gt9xxx.c ****     }
 938              		.loc 1 141 16 view .LVU285
 939 0122 0120     		movs	r0, #1
 940 0124 FBE7     		b	.L39
 941              	.L44:
 942 0126 00BF     		.align	2
 943              	.L43:
 944 0128 00380240 		.word	1073887232
 945 012c 00200240 		.word	1073881088
 946 0130 001C0240 		.word	1073880064
 947 0134 00000000 		.word	.LC0
 948 0138 04000000 		.word	.LC1
 949 013c 0C000000 		.word	.LC2
 950 0140 14000000 		.word	.LC3
 951 0144 1C000000 		.word	.LC4
 952 0148 00000000 		.word	.LANCHOR1
 953 014c 00000000 		.word	lcddev
 954 0150 00000000 		.word	tp_dev
 955 0154 00000000 		.word	gt9xxx_scan
 956              		.cfi_endproc
 957              	.LFE128:
 959              		.section	.rodata.Read_SitData.str1.4,"aMS",%progbits,1
 960              		.align	2
 961              	.LC5:
 962 0000 783A2564 		.ascii	"x:%d\012\000"
 962      0A00
 963              		.section	.text.Read_SitData,"ax",%progbits
 964              		.align	1
 965              		.global	Read_SitData
 966              		.syntax unified
 967              		.thumb
 968              		.thumb_func
 969              		.fpu fpv4-sp-d16
 971              	Read_SitData:
 972              	.LVL69:
 973              	.LFB130:
 288:HADRWARE/TOUCH/gt9xxx.c **** 
 289:HADRWARE/TOUCH/gt9xxx.c **** void Read_SitData(uint8_t i)
 290:HADRWARE/TOUCH/gt9xxx.c **** {
ARM GAS  /tmp/ccibrS9m.s 			page 25


 974              		.loc 1 290 1 is_stmt 1 view -0
 975              		.cfi_startproc
 976              		@ args = 0, pretend = 0, frame = 8
 977              		@ frame_needed = 0, uses_anonymous_args = 0
 978              		.loc 1 290 1 is_stmt 0 view .LVU287
 979 0000 00B5     		push	{lr}
 980              	.LCFI10:
 981              		.cfi_def_cfa_offset 4
 982              		.cfi_offset 14, -4
 983 0002 83B0     		sub	sp, sp, #12
 984              	.LCFI11:
 985              		.cfi_def_cfa_offset 16
 291:HADRWARE/TOUCH/gt9xxx.c ****     uint8_t buf[4];
 986              		.loc 1 291 5 is_stmt 1 view .LVU288
 292:HADRWARE/TOUCH/gt9xxx.c ****     gt9xxx_rd_reg(GT9XXX_TPX_TBL[i], buf, 4);
 987              		.loc 1 292 5 view .LVU289
 988 0004 0422     		movs	r2, #4
 989 0006 0DEB0201 		add	r1, sp, r2
 990 000a 094B     		ldr	r3, .L47
 991 000c 33F81000 		ldrh	r0, [r3, r0, lsl #1]
 992              	.LVL70:
 993              		.loc 1 292 5 is_stmt 0 view .LVU290
 994 0010 FFF7FEFF 		bl	gt9xxx_rd_reg
 995              	.LVL71:
 293:HADRWARE/TOUCH/gt9xxx.c **** 
 294:HADRWARE/TOUCH/gt9xxx.c ****     uint16_t x_sit =((uint16_t)buf[1]<<8) + buf[0];
 996              		.loc 1 294 5 is_stmt 1 view .LVU291
 997              		.loc 1 294 35 is_stmt 0 view .LVU292
 998 0014 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 999              		.loc 1 294 48 view .LVU293
 1000 0018 9DF80410 		ldrb	r1, [sp, #4]	@ zero_extendqisi2
 1001              		.loc 1 294 14 view .LVU294
 1002 001c 01EB0321 		add	r1, r1, r3, lsl #8
 1003              	.LVL72:
 295:HADRWARE/TOUCH/gt9xxx.c ****     printf("x:%d\n",x_sit);
 1004              		.loc 1 295 5 is_stmt 1 view .LVU295
 1005 0020 89B2     		uxth	r1, r1
 1006              		.loc 1 295 5 is_stmt 0 view .LVU296
 1007 0022 0448     		ldr	r0, .L47+4
 1008 0024 FFF7FEFF 		bl	printf
 1009              	.LVL73:
 296:HADRWARE/TOUCH/gt9xxx.c **** }
 1010              		.loc 1 296 1 view .LVU297
 1011 0028 03B0     		add	sp, sp, #12
 1012              	.LCFI12:
 1013              		.cfi_def_cfa_offset 4
 1014              		@ sp needed
 1015 002a 5DF804FB 		ldr	pc, [sp], #4
 1016              	.L48:
 1017 002e 00BF     		.align	2
 1018              	.L47:
 1019 0030 00000000 		.word	.LANCHOR2
 1020 0034 00000000 		.word	.LC5
 1021              		.cfi_endproc
 1022              	.LFE130:
 1024              		.global	GT9XXX_TPX_TBL
 1025              		.global	g_gt_tnum
ARM GAS  /tmp/ccibrS9m.s 			page 26


 1026              		.section	.bss.t.0,"aw",%nobits
 1027              		.set	.LANCHOR0,. + 0
 1030              	t.0:
 1031 0000 00       		.space	1
 1032              		.section	.data.g_gt_tnum,"aw"
 1033              		.set	.LANCHOR1,. + 0
 1036              	g_gt_tnum:
 1037 0000 05       		.byte	5
 1038              		.section	.rodata.GT9XXX_TPX_TBL,"a"
 1039              		.align	2
 1040              		.set	.LANCHOR2,. + 0
 1043              	GT9XXX_TPX_TBL:
 1044 0000 5081     		.short	-32432
 1045 0002 5881     		.short	-32424
 1046 0004 6081     		.short	-32416
 1047 0006 6881     		.short	-32408
 1048 0008 7081     		.short	-32400
 1049 000a 7881     		.short	-32392
 1050 000c 8081     		.short	-32384
 1051 000e 8881     		.short	-32376
 1052 0010 9081     		.short	-32368
 1053 0012 9881     		.short	-32360
 1054              		.text
 1055              	.Letext0:
 1056              		.file 2 "/home/ktkuri/arm-gcc-tools/arm-none-eabi/include/machine/_default_types.h"
 1057              		.file 3 "/home/ktkuri/arm-gcc-tools/arm-none-eabi/include/sys/_stdint.h"
 1058              		.file 4 "Libraries/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 1059              		.file 5 "HADRWARE/TOUCH/touch.h"
 1060              		.file 6 "HADRWARE/LCD/lcd.h"
 1061              		.file 7 "/home/ktkuri/arm-gcc-tools/arm-none-eabi/include/stdio.h"
 1062              		.file 8 "SYSTEM/sys/sys.h"
 1063              		.file 9 "HADRWARE/TOUCH/ctiic.h"
 1064              		.file 10 "SYSTEM/delay/delay.h"
 1065              		.file 11 "/home/ktkuri/arm-gcc-tools/arm-none-eabi/include/string.h"
ARM GAS  /tmp/ccibrS9m.s 			page 27


DEFINED SYMBOLS
                            *ABS*:0000000000000000 gt9xxx.c
     /tmp/ccibrS9m.s:18     .text.gt9xxx_wr_reg:0000000000000000 $t
     /tmp/ccibrS9m.s:26     .text.gt9xxx_wr_reg:0000000000000000 gt9xxx_wr_reg
     /tmp/ccibrS9m.s:122    .text.gt9xxx_rd_reg:0000000000000000 $t
     /tmp/ccibrS9m.s:129    .text.gt9xxx_rd_reg:0000000000000000 gt9xxx_rd_reg
     /tmp/ccibrS9m.s:222    .text.gt9xxx_scan:0000000000000000 $t
     /tmp/ccibrS9m.s:229    .text.gt9xxx_scan:0000000000000000 gt9xxx_scan
     /tmp/ccibrS9m.s:701    .text.gt9xxx_scan:0000000000000290 $d
     /tmp/ccibrS9m.s:711    .rodata.gt9xxx_init.str1.4:0000000000000000 $d
     /tmp/ccibrS9m.s:727    .text.gt9xxx_init:0000000000000000 $t
     /tmp/ccibrS9m.s:734    .text.gt9xxx_init:0000000000000000 gt9xxx_init
     /tmp/ccibrS9m.s:944    .text.gt9xxx_init:0000000000000128 $d
     /tmp/ccibrS9m.s:960    .rodata.Read_SitData.str1.4:0000000000000000 $d
     /tmp/ccibrS9m.s:964    .text.Read_SitData:0000000000000000 $t
     /tmp/ccibrS9m.s:971    .text.Read_SitData:0000000000000000 Read_SitData
     /tmp/ccibrS9m.s:1019   .text.Read_SitData:0000000000000030 $d
     /tmp/ccibrS9m.s:1043   .rodata.GT9XXX_TPX_TBL:0000000000000000 GT9XXX_TPX_TBL
     /tmp/ccibrS9m.s:1036   .data.g_gt_tnum:0000000000000000 g_gt_tnum
     /tmp/ccibrS9m.s:1030   .bss.t.0:0000000000000000 t.0
     /tmp/ccibrS9m.s:1031   .bss.t.0:0000000000000000 $d
     /tmp/ccibrS9m.s:1039   .rodata.GT9XXX_TPX_TBL:0000000000000000 $d

UNDEFINED SYMBOLS
ct_iic_start
ct_iic_send_byte
ct_iic_wait_ack
ct_iic_stop
ct_iic_read_byte
tp_dev
lcddev
sys_gpio_set
ct_iic_init
sys_gpio_pin_set
delay_ms
strcmp
printf
