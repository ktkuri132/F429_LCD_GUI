ARM GAS  /tmp/ccgZFYq9.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"GUILib.cpp"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.Button_check,"ax",%progbits
  18              		.align	1
  19              		.global	Button_check
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	Button_check:
  27              		.fnstart
  28              	.LVL0:
  29              	.LFB131:
  30              		.file 1 "Lib/src/GUILib.cpp"
   1:Lib/src/GUILib.cpp **** #include "lib.h"
   2:Lib/src/GUILib.cpp **** #include "GUILib.h"
   3:Lib/src/GUILib.cpp **** 
   4:Lib/src/GUILib.cpp **** /* 1-按下状态  0-放开状态  */
   5:Lib/src/GUILib.cpp ****         
   6:Lib/src/GUILib.cpp **** uint8_t button_act[10];
   7:Lib/src/GUILib.cpp **** 
   8:Lib/src/GUILib.cpp **** 
   9:Lib/src/GUILib.cpp **** /// @brief 创建按键
  10:Lib/src/GUILib.cpp **** /// @param act_sign 信号槽
  11:Lib/src/GUILib.cpp **** /// @param button_num 按键号 1-10
  12:Lib/src/GUILib.cpp **** /// @param x 按键起始x坐标
  13:Lib/src/GUILib.cpp **** /// @param y 按键起始y坐标
  14:Lib/src/GUILib.cpp **** /// @param w 按键长度
  15:Lib/src/GUILib.cpp **** /// @param h 按键宽度
  16:Lib/src/GUILib.cpp **** /// @param string 按键标签
  17:Lib/src/GUILib.cpp **** void Button_check(uint8_t *act_sign,uint8_t button_num,uint16_t x,uint16_t y,uint16_t w,uint16_t h,
  18:Lib/src/GUILib.cpp **** {
  31              		.loc 1 18 1 view -0
  32              		.cfi_startproc
  33              		@ args = 12, pretend = 0, frame = 0
  34              		@ frame_needed = 0, uses_anonymous_args = 0
  35              		.loc 1 18 1 is_stmt 0 view .LVU1
  36 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
  37              		.save {r4, r5, r6, r7, r8, r9, lr}
  38              	.LCFI0:
  39              		.cfi_def_cfa_offset 28
  40              		.cfi_offset 4, -28
ARM GAS  /tmp/ccgZFYq9.s 			page 2


  41              		.cfi_offset 5, -24
  42              		.cfi_offset 6, -20
  43              		.cfi_offset 7, -16
  44              		.cfi_offset 8, -12
  45              		.cfi_offset 9, -8
  46              		.cfi_offset 14, -4
  47              		.pad #20
  48 0004 85B0     		sub	sp, sp, #20
  49              	.LCFI1:
  50              		.cfi_def_cfa_offset 48
  51 0006 8146     		mov	r9, r0
  52 0008 8846     		mov	r8, r1
  53 000a 1446     		mov	r4, r2
  54 000c 1D46     		mov	r5, r3
  55 000e BDF83060 		ldrh	r6, [sp, #48]
  56 0012 BDF83470 		ldrh	r7, [sp, #52]
  19:Lib/src/GUILib.cpp ****     //static int i=0;
  20:Lib/src/GUILib.cpp ****     //if(!i)
  21:Lib/src/GUILib.cpp ****     //{
  22:Lib/src/GUILib.cpp ****     //    LCD_DrawRectangle(x,y,w,h);
  23:Lib/src/GUILib.cpp ****     //    i=1;
  24:Lib/src/GUILib.cpp ****     //}
  25:Lib/src/GUILib.cpp ****     LCD_DrawRectangle(x,y,w,h);
  57              		.loc 1 25 5 is_stmt 1 view .LVU2
  58              		.loc 1 25 22 is_stmt 0 view .LVU3
  59 0016 3B46     		mov	r3, r7
  60              	.LVL1:
  61              		.loc 1 25 22 view .LVU4
  62 0018 3246     		mov	r2, r6
  63              	.LVL2:
  64              		.loc 1 25 22 view .LVU5
  65 001a 2946     		mov	r1, r5
  66              	.LVL3:
  67              		.loc 1 25 22 view .LVU6
  68 001c 2046     		mov	r0, r4
  69              	.LVL4:
  70              		.loc 1 25 22 view .LVU7
  71 001e FFF7FEFF 		bl	LCD_DrawRectangle
  72              	.LVL5:
  26:Lib/src/GUILib.cpp ****     Printf(x+11,y+11,240,32,32,1,string);
  73              		.loc 1 26 5 is_stmt 1 view .LVU8
  74              		.loc 1 26 11 is_stmt 0 view .LVU9
  75 0022 05F10B01 		add	r1, r5, #11
  76 0026 04F10B00 		add	r0, r4, #11
  77 002a 0E9B     		ldr	r3, [sp, #56]
  78 002c 0293     		str	r3, [sp, #8]
  79 002e 0123     		movs	r3, #1
  80 0030 0193     		str	r3, [sp, #4]
  81 0032 2023     		movs	r3, #32
  82 0034 0093     		str	r3, [sp]
  83 0036 F022     		movs	r2, #240
  84 0038 89B2     		uxth	r1, r1
  85 003a 80B2     		uxth	r0, r0
  86 003c FFF7FEFF 		bl	Printf
  87              	.LVL6:
  27:Lib/src/GUILib.cpp ****     static int a=0;
  88              		.loc 1 27 5 is_stmt 1 view .LVU10
ARM GAS  /tmp/ccgZFYq9.s 			page 3


  28:Lib/src/GUILib.cpp ****     if(!button_act[button_num])  /* 检查按键状态  */
  89              		.loc 1 28 5 view .LVU11
  90              		.loc 1 28 30 is_stmt 0 view .LVU12
  91 0040 2F4B     		ldr	r3, .L6
  92 0042 13F80830 		ldrb	r3, [r3, r8]	@ zero_extendqisi2
  93              		.loc 1 28 5 view .LVU13
  94 0046 BBB9     		cbnz	r3, .L2
  29:Lib/src/GUILib.cpp ****     {
  30:Lib/src/GUILib.cpp ****         /* 处于放松状态  */
  31:Lib/src/GUILib.cpp ****         if(tp_dev.x[0]>=x&&tp_dev.x[0]<=(x+w)&&tp_dev.y[0]>=y&&tp_dev.y[0]<=(y+h))
  95              		.loc 1 31 9 is_stmt 1 view .LVU14
  96              		.loc 1 31 22 is_stmt 0 view .LVU15
  97 0048 2E4B     		ldr	r3, .L6+4
  98 004a 9B89     		ldrh	r3, [r3, #12]
  99              		.loc 1 31 9 view .LVU16
 100 004c A342     		cmp	r3, r4
 101 004e 54D3     		bcc	.L1
 102              		.loc 1 31 43 discriminator 1 view .LVU17
 103 0050 3444     		add	r4, r4, r6
 104              		.loc 1 31 26 discriminator 1 view .LVU18
 105 0052 A342     		cmp	r3, r4
 106 0054 51DC     		bgt	.L1
 107              		.loc 1 31 58 discriminator 2 view .LVU19
 108 0056 2B4B     		ldr	r3, .L6+4
 109 0058 1B8C     		ldrh	r3, [r3, #32]
 110              		.loc 1 31 46 discriminator 2 view .LVU20
 111 005a AB42     		cmp	r3, r5
 112 005c 4DD3     		bcc	.L1
 113              		.loc 1 31 79 discriminator 3 view .LVU21
 114 005e 3D44     		add	r5, r5, r7
 115              		.loc 1 31 62 discriminator 3 view .LVU22
 116 0060 AB42     		cmp	r3, r5
 117 0062 4ADC     		bgt	.L1
  32:Lib/src/GUILib.cpp ****         {
  33:Lib/src/GUILib.cpp ****             /* 按下  */
  34:Lib/src/GUILib.cpp ****             *act_sign=button_num;    /* 发出槽信号  */
 118              		.loc 1 34 13 is_stmt 1 view .LVU23
 119              		.loc 1 34 22 is_stmt 0 view .LVU24
 120 0064 89F80080 		strb	r8, [r9]
  35:Lib/src/GUILib.cpp **** 
  36:Lib/src/GUILib.cpp ****             button_act[button_num]=1;     /* 切换状态  */
 121              		.loc 1 36 13 is_stmt 1 view .LVU25
 122              		.loc 1 36 35 is_stmt 0 view .LVU26
 123 0068 254B     		ldr	r3, .L6
 124 006a 0122     		movs	r2, #1
 125 006c 03F80820 		strb	r2, [r3, r8]
  37:Lib/src/GUILib.cpp **** 
  38:Lib/src/GUILib.cpp ****             button_response(act_sign);
 126              		.loc 1 38 13 is_stmt 1 view .LVU27
 127              		.loc 1 38 28 is_stmt 0 view .LVU28
 128 0070 4846     		mov	r0, r9
 129 0072 FFF7FEFF 		bl	button_response
 130              	.LVL7:
 131 0076 40E0     		b	.L1
 132              	.L2:
  39:Lib/src/GUILib.cpp ****         }
  40:Lib/src/GUILib.cpp ****     }    
ARM GAS  /tmp/ccgZFYq9.s 			page 4


  41:Lib/src/GUILib.cpp ****     else
  42:Lib/src/GUILib.cpp ****     {
  43:Lib/src/GUILib.cpp ****         /* 仍然处于按下状态  */
  44:Lib/src/GUILib.cpp ****                 /* 停止响应  等待松开  */
  45:Lib/src/GUILib.cpp ****         if(tp_dev.x[0]>=x&&tp_dev.x[0]<=(x+w)&&tp_dev.y[0]>=y&&tp_dev.y[0]<=(y+h))      
 133              		.loc 1 45 9 is_stmt 1 view .LVU29
 134              		.loc 1 45 22 is_stmt 0 view .LVU30
 135 0078 224B     		ldr	r3, .L6+4
 136 007a 9B89     		ldrh	r3, [r3, #12]
 137              		.loc 1 45 9 view .LVU31
 138 007c A342     		cmp	r3, r4
 139 007e 22D3     		bcc	.L4
 140              		.loc 1 45 43 discriminator 1 view .LVU32
 141 0080 A219     		adds	r2, r4, r6
 142              		.loc 1 45 26 discriminator 1 view .LVU33
 143 0082 9342     		cmp	r3, r2
 144 0084 1FDC     		bgt	.L4
 145              		.loc 1 45 58 discriminator 2 view .LVU34
 146 0086 1F4B     		ldr	r3, .L6+4
 147 0088 1B8C     		ldrh	r3, [r3, #32]
 148              		.loc 1 45 46 discriminator 2 view .LVU35
 149 008a AB42     		cmp	r3, r5
 150 008c 1BD3     		bcc	.L4
 151              		.loc 1 45 79 discriminator 3 view .LVU36
 152 008e EA19     		adds	r2, r5, r7
 153              		.loc 1 45 62 discriminator 3 view .LVU37
 154 0090 9342     		cmp	r3, r2
 155 0092 18DC     		bgt	.L4
  46:Lib/src/GUILib.cpp ****         {
  47:Lib/src/GUILib.cpp ****                             /* 手没松开 退出继续等待  */
  48:Lib/src/GUILib.cpp ****             if(!a)
 156              		.loc 1 48 13 is_stmt 1 view .LVU38
 157              		.loc 1 48 16 is_stmt 0 view .LVU39
 158 0094 1C4B     		ldr	r3, .L6+8
 159 0096 1B68     		ldr	r3, [r3]
 160              		.loc 1 48 13 view .LVU40
 161 0098 002B     		cmp	r3, #0
 162 009a 2ED1     		bne	.L1
  49:Lib/src/GUILib.cpp ****             {
  50:Lib/src/GUILib.cpp ****                 LTDC_Fill(x+1,y+1,x+w-1,y+h-1,YELLOW);
 163              		.loc 1 50 17 is_stmt 1 view .LVU41
 164              		.loc 1 50 36 is_stmt 0 view .LVU42
 165 009c A219     		adds	r2, r4, r6
 166 009e 92B2     		uxth	r2, r2
 167              		.loc 1 50 42 view .LVU43
 168 00a0 EB19     		adds	r3, r5, r7
 169 00a2 9BB2     		uxth	r3, r3
 170              		.loc 1 50 26 view .LVU44
 171 00a4 013B     		subs	r3, r3, #1
 172 00a6 013A     		subs	r2, r2, #1
 173 00a8 691C     		adds	r1, r5, #1
 174 00aa 601C     		adds	r0, r4, #1
 175 00ac 4FF6E074 		movw	r4, #65504
 176 00b0 0094     		str	r4, [sp]
 177 00b2 9BB2     		uxth	r3, r3
 178 00b4 92B2     		uxth	r2, r2
 179 00b6 89B2     		uxth	r1, r1
ARM GAS  /tmp/ccgZFYq9.s 			page 5


 180 00b8 80B2     		uxth	r0, r0
 181 00ba FFF7FEFF 		bl	LTDC_Fill
 182              	.LVL8:
  51:Lib/src/GUILib.cpp ****                 a=1;
 183              		.loc 1 51 17 is_stmt 1 view .LVU45
 184              		.loc 1 51 18 is_stmt 0 view .LVU46
 185 00be 124B     		ldr	r3, .L6+8
 186 00c0 0122     		movs	r2, #1
 187 00c2 1A60     		str	r2, [r3]
 188 00c4 19E0     		b	.L1
 189              	.L4:
  52:Lib/src/GUILib.cpp ****             }
  53:Lib/src/GUILib.cpp ****             /* 可拓展 长按--连点--功能  */
  54:Lib/src/GUILib.cpp ****         }
  55:Lib/src/GUILib.cpp ****         else                /* 若手松开 */
  56:Lib/src/GUILib.cpp ****         {
  57:Lib/src/GUILib.cpp ****             button_act[button_num]=0;
 190              		.loc 1 57 13 is_stmt 1 view .LVU47
 191              		.loc 1 57 35 is_stmt 0 view .LVU48
 192 00c6 0023     		movs	r3, #0
 193 00c8 0D4A     		ldr	r2, .L6
 194 00ca 02F80830 		strb	r3, [r2, r8]
  58:Lib/src/GUILib.cpp ****             a=0;
 195              		.loc 1 58 13 is_stmt 1 view .LVU49
 196              		.loc 1 58 14 is_stmt 0 view .LVU50
 197 00ce 0E4A     		ldr	r2, .L6+8
 198 00d0 1360     		str	r3, [r2]
  59:Lib/src/GUILib.cpp ****             *act_sign=-1;
 199              		.loc 1 59 13 is_stmt 1 view .LVU51
 200              		.loc 1 59 22 is_stmt 0 view .LVU52
 201 00d2 FF23     		movs	r3, #255
 202 00d4 89F80030 		strb	r3, [r9]
  60:Lib/src/GUILib.cpp ****             LTDC_Fill(x+1,y+1,x+w-1,y+h-1,WHITE);
 203              		.loc 1 60 13 is_stmt 1 view .LVU53
 204              		.loc 1 60 32 is_stmt 0 view .LVU54
 205 00d8 A219     		adds	r2, r4, r6
 206 00da 92B2     		uxth	r2, r2
 207              		.loc 1 60 38 view .LVU55
 208 00dc EB19     		adds	r3, r5, r7
 209 00de 9BB2     		uxth	r3, r3
 210              		.loc 1 60 22 view .LVU56
 211 00e0 013B     		subs	r3, r3, #1
 212 00e2 013A     		subs	r2, r2, #1
 213 00e4 691C     		adds	r1, r5, #1
 214 00e6 601C     		adds	r0, r4, #1
 215 00e8 4FF6FF74 		movw	r4, #65535
 216 00ec 0094     		str	r4, [sp]
 217 00ee 9BB2     		uxth	r3, r3
 218 00f0 92B2     		uxth	r2, r2
 219 00f2 89B2     		uxth	r1, r1
 220 00f4 80B2     		uxth	r0, r0
 221 00f6 FFF7FEFF 		bl	LTDC_Fill
 222              	.LVL9:
 223              	.L1:
  61:Lib/src/GUILib.cpp ****         }
  62:Lib/src/GUILib.cpp ****     }
  63:Lib/src/GUILib.cpp **** }
ARM GAS  /tmp/ccgZFYq9.s 			page 6


 224              		.loc 1 63 1 view .LVU57
 225 00fa 05B0     		add	sp, sp, #20
 226              	.LCFI2:
 227              		.cfi_def_cfa_offset 28
 228              		@ sp needed
 229 00fc BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 230              	.LVL10:
 231              	.L7:
 232              		.loc 1 63 1 view .LVU58
 233              		.align	2
 234              	.L6:
 235 0100 00000000 		.word	.LANCHOR0
 236 0104 00000000 		.word	tp_dev
 237 0108 00000000 		.word	.LANCHOR1
 238              		.cfi_endproc
 239              	.LFE131:
 240              		.fnend
 242              		.section	.text.obj_move,"ax",%progbits
 243              		.align	1
 244              		.global	obj_move
 245              		.syntax unified
 246              		.thumb
 247              		.thumb_func
 248              		.fpu fpv4-sp-d16
 250              	obj_move:
 251              		.fnstart
 252              	.LFB132:
  64:Lib/src/GUILib.cpp **** 
  65:Lib/src/GUILib.cpp **** 
  66:Lib/src/GUILib.cpp **** void obj_move()
  67:Lib/src/GUILib.cpp **** {
 253              		.loc 1 67 1 is_stmt 1 view -0
 254              		.cfi_startproc
 255              		@ args = 0, pretend = 0, frame = 0
 256              		@ frame_needed = 0, uses_anonymous_args = 0
  68:Lib/src/GUILib.cpp ****     static uint16_t x_move_sit=0,y_move_sit=0;
 257              		.loc 1 68 5 view .LVU60
  69:Lib/src/GUILib.cpp ****     while (y_move_sit<=650)
 258              		.loc 1 69 5 view .LVU61
 259              		.loc 1 69 22 view .LVU62
 260 0000 184B     		ldr	r3, .L19
 261 0002 1A88     		ldrh	r2, [r3]
 262 0004 40F28A23 		movw	r3, #650
 263 0008 9A42     		cmp	r2, r3
 264 000a 29D8     		bhi	.L17
  67:Lib/src/GUILib.cpp ****     static uint16_t x_move_sit=0,y_move_sit=0;
 265              		.loc 1 67 1 is_stmt 0 view .LVU63
 266 000c 10B5     		push	{r4, lr}
 267              		.save {r4, lr}
 268              	.LCFI3:
 269              		.cfi_def_cfa_offset 8
 270              		.cfi_offset 4, -8
 271              		.cfi_offset 14, -4
 272 000e 13E0     		b	.L11
 273              	.L18:
  70:Lib/src/GUILib.cpp ****     {
  71:Lib/src/GUILib.cpp ****         while (x_move_sit<=1025)
ARM GAS  /tmp/ccgZFYq9.s 			page 7


  72:Lib/src/GUILib.cpp ****         {
  73:Lib/src/GUILib.cpp ****             tp_dev.scan(0);
 274              		.loc 1 73 13 is_stmt 1 view .LVU64
 275              		.loc 1 73 20 is_stmt 0 view .LVU65
 276 0010 154B     		ldr	r3, .L19+4
 277 0012 5B68     		ldr	r3, [r3, #4]
 278              		.loc 1 73 24 view .LVU66
 279 0014 0020     		movs	r0, #0
 280 0016 9847     		blx	r3
 281              	.LVL11:
  74:Lib/src/GUILib.cpp ****             //delay_ms(2);
  75:Lib/src/GUILib.cpp ****             LCD_DrawLine(0+x_move_sit,0+y_move_sit,0+x_move_sit,50+y_move_sit);
 282              		.loc 1 75 13 is_stmt 1 view .LVU67
 283              		.loc 1 75 25 is_stmt 0 view .LVU68
 284 0018 144C     		ldr	r4, .L19+8
 285 001a 2088     		ldrh	r0, [r4]
 286 001c 114B     		ldr	r3, .L19
 287 001e 1988     		ldrh	r1, [r3]
 288 0020 01F13203 		add	r3, r1, #50
 289 0024 9BB2     		uxth	r3, r3
 290 0026 0246     		mov	r2, r0
 291 0028 FFF7FEFF 		bl	LCD_DrawLine
 292              	.LVL12:
  76:Lib/src/GUILib.cpp ****             delay_ms(1);
 293              		.loc 1 76 13 is_stmt 1 view .LVU69
 294              		.loc 1 76 21 is_stmt 0 view .LVU70
 295 002c 0120     		movs	r0, #1
 296 002e FFF7FEFF 		bl	delay_ms
 297              	.LVL13:
  77:Lib/src/GUILib.cpp ****             //LCD_Clear(WHITE);
  78:Lib/src/GUILib.cpp ****             x_move_sit++;
 298              		.loc 1 78 13 is_stmt 1 view .LVU71
 299              		.loc 1 78 23 is_stmt 0 view .LVU72
 300 0032 2388     		ldrh	r3, [r4]
 301 0034 0133     		adds	r3, r3, #1
 302 0036 2380     		strh	r3, [r4]	@ movhi
 303              	.L11:
  71:Lib/src/GUILib.cpp ****         {
 304              		.loc 1 71 9 is_stmt 1 view .LVU73
  71:Lib/src/GUILib.cpp ****         {
 305              		.loc 1 71 26 view .LVU74
 306 0038 0C4B     		ldr	r3, .L19+8
 307 003a 1A88     		ldrh	r2, [r3]
 308 003c 40F20143 		movw	r3, #1025
 309 0040 9A42     		cmp	r2, r3
 310 0042 E5D9     		bls	.L18
  79:Lib/src/GUILib.cpp ****         }
  80:Lib/src/GUILib.cpp ****         x_move_sit=0;
 311              		.loc 1 80 9 view .LVU75
 312              		.loc 1 80 19 is_stmt 0 view .LVU76
 313 0044 094B     		ldr	r3, .L19+8
 314 0046 0022     		movs	r2, #0
 315 0048 1A80     		strh	r2, [r3]	@ movhi
  81:Lib/src/GUILib.cpp ****         y_move_sit+=50;
 316              		.loc 1 81 9 is_stmt 1 view .LVU77
 317              		.loc 1 81 19 is_stmt 0 view .LVU78
 318 004a 064A     		ldr	r2, .L19
ARM GAS  /tmp/ccgZFYq9.s 			page 8


 319 004c 1388     		ldrh	r3, [r2]
 320 004e 3233     		adds	r3, r3, #50
 321 0050 1380     		strh	r3, [r2]	@ movhi
  68:Lib/src/GUILib.cpp ****     while (y_move_sit<=650)
 322              		.loc 1 68 5 is_stmt 1 view .LVU79
  69:Lib/src/GUILib.cpp ****     {
 323              		.loc 1 69 5 view .LVU80
  69:Lib/src/GUILib.cpp ****     {
 324              		.loc 1 69 22 view .LVU81
 325 0052 044B     		ldr	r3, .L19
 326 0054 1A88     		ldrh	r2, [r3]
 327 0056 40F28A23 		movw	r3, #650
 328 005a 9A42     		cmp	r2, r3
 329 005c ECD9     		bls	.L11
  82:Lib/src/GUILib.cpp ****     }
  83:Lib/src/GUILib.cpp ****     
  84:Lib/src/GUILib.cpp **** }
 330              		.loc 1 84 1 is_stmt 0 view .LVU82
 331 005e 10BD     		pop	{r4, pc}
 332              	.L17:
 333              	.LCFI4:
 334              		.cfi_def_cfa_offset 0
 335              		.cfi_restore 4
 336              		.cfi_restore 14
 337 0060 7047     		bx	lr
 338              	.L20:
 339 0062 00BF     		.align	2
 340              	.L19:
 341 0064 00000000 		.word	.LANCHOR2
 342 0068 00000000 		.word	tp_dev
 343 006c 00000000 		.word	.LANCHOR3
 344              		.cfi_endproc
 345              	.LFE132:
 346              		.fnend
 348              		.section	.text._Z10witer_linev,"ax",%progbits
 349              		.align	1
 350              		.global	_Z10witer_linev
 351              		.syntax unified
 352              		.thumb
 353              		.thumb_func
 354              		.fpu fpv4-sp-d16
 356              	_Z10witer_linev:
 357              		.fnstart
 358              	.LFB133:
  85:Lib/src/GUILib.cpp **** 
  86:Lib/src/GUILib.cpp **** 
  87:Lib/src/GUILib.cpp **** 
  88:Lib/src/GUILib.cpp **** /* 画板  */
  89:Lib/src/GUILib.cpp **** void witer_line(void)
  90:Lib/src/GUILib.cpp **** {
 359              		.loc 1 90 1 is_stmt 1 view -0
 360              		.cfi_startproc
 361              		@ args = 0, pretend = 0, frame = 40
 362              		@ frame_needed = 0, uses_anonymous_args = 0
 363 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 364              		.save {r4, r5, r6, r7, lr}
 365              	.LCFI5:
ARM GAS  /tmp/ccgZFYq9.s 			page 9


 366              		.cfi_def_cfa_offset 20
 367              		.cfi_offset 4, -20
 368              		.cfi_offset 5, -16
 369              		.cfi_offset 6, -12
 370              		.cfi_offset 7, -8
 371              		.cfi_offset 14, -4
 372              		.pad #44
 373 0002 8BB0     		sub	sp, sp, #44
 374              	.LCFI6:
 375              		.cfi_def_cfa_offset 64
  91:Lib/src/GUILib.cpp ****     uint8_t t = 0;
 376              		.loc 1 91 5 view .LVU84
 377              	.LVL14:
  92:Lib/src/GUILib.cpp ****     uint8_t i = 0;
 378              		.loc 1 92 5 view .LVU85
  93:Lib/src/GUILib.cpp ****     uint16_t lastpos[10][2];                                                                       
 379              		.loc 1 93 5 view .LVU86
  94:Lib/src/GUILib.cpp ****     uint8_t maxp = 5;
 380              		.loc 1 94 5 view .LVU87
  95:Lib/src/GUILib.cpp **** 
  96:Lib/src/GUILib.cpp ****     if (lcddev.id == 0x1018)maxp = 10;
 381              		.loc 1 96 5 view .LVU88
 382              		.loc 1 96 16 is_stmt 0 view .LVU89
 383 0004 2E4B     		ldr	r3, .L32
 384 0006 9A88     		ldrh	r2, [r3, #4]
 385              		.loc 1 96 5 view .LVU90
 386 0008 41F21803 		movw	r3, #4120
 387 000c 9A42     		cmp	r2, r3
 388 000e 01D0     		beq	.L29
  94:Lib/src/GUILib.cpp ****     uint8_t maxp = 5;
 389              		.loc 1 94 13 view .LVU91
 390 0010 0526     		movs	r6, #5
 391 0012 4FE0     		b	.L28
 392              	.L29:
 393              		.loc 1 96 34 view .LVU92
 394 0014 0A26     		movs	r6, #10
 395              	.LVL15:
 396              		.loc 1 96 34 view .LVU93
 397 0016 4DE0     		b	.L28
 398              	.LVL16:
 399              	.L31:
  97:Lib/src/GUILib.cpp **** 
  98:Lib/src/GUILib.cpp ****     while (1)
  99:Lib/src/GUILib.cpp ****     {
 100:Lib/src/GUILib.cpp ****         tp_dev.scan(0);
 101:Lib/src/GUILib.cpp **** 
 102:Lib/src/GUILib.cpp ****         for (t = 0; t < maxp; t++)
 103:Lib/src/GUILib.cpp ****         {
 104:Lib/src/GUILib.cpp ****             if ((tp_dev.sta) & (1 << t))
 105:Lib/src/GUILib.cpp ****             {
 106:Lib/src/GUILib.cpp ****                 if (tp_dev.x[t] < lcddev.width && tp_dev.y[t] < lcddev.height)                     
 107:Lib/src/GUILib.cpp ****                 {
 108:Lib/src/GUILib.cpp ****                     if (lastpos[t][0] == 0xFFFF)
 109:Lib/src/GUILib.cpp ****                     {
 110:Lib/src/GUILib.cpp ****                         lastpos[t][0] = tp_dev.x[t];
 400              		.loc 1 110 25 is_stmt 1 view .LVU94
 401              		.loc 1 110 39 is_stmt 0 view .LVU95
ARM GAS  /tmp/ccgZFYq9.s 			page 10


 402 0018 0AA9     		add	r1, sp, #40
 403 001a 01EB8401 		add	r1, r1, r4, lsl #2
 404 001e 21F8282C 		strh	r2, [r1, #-40]	@ movhi
 111:Lib/src/GUILib.cpp ****                         lastpos[t][1] = tp_dev.y[t];
 405              		.loc 1 111 25 is_stmt 1 view .LVU96
 406              		.loc 1 111 39 is_stmt 0 view .LVU97
 407 0022 21F8263C 		strh	r3, [r1, #-38]	@ movhi
 408 0026 2CE0     		b	.L26
 409              	.L24:
 112:Lib/src/GUILib.cpp ****                     }
 113:Lib/src/GUILib.cpp **** 
 114:Lib/src/GUILib.cpp ****                     LCD_DrawLine(lastpos[t][0], lastpos[t][1], tp_dev.x[t], tp_dev.y[t]); /* »­Ï
 115:Lib/src/GUILib.cpp ****                     lastpos[t][0] = tp_dev.x[t];
 116:Lib/src/GUILib.cpp ****                     lastpos[t][1] = tp_dev.y[t];
 117:Lib/src/GUILib.cpp ****                 }
 118:Lib/src/GUILib.cpp ****             }
 119:Lib/src/GUILib.cpp ****             else 
 120:Lib/src/GUILib.cpp ****             {
 121:Lib/src/GUILib.cpp ****                 lastpos[t][0] = 0xFFFF;
 410              		.loc 1 121 17 is_stmt 1 view .LVU98
 411              		.loc 1 121 31 is_stmt 0 view .LVU99
 412 0028 4FF6FF72 		movw	r2, #65535
 413 002c 0AAB     		add	r3, sp, #40
 414 002e 03EB8403 		add	r3, r3, r4, lsl #2
 415 0032 23F8282C 		strh	r2, [r3, #-40]	@ movhi
 416              	.L25:
 102:Lib/src/GUILib.cpp ****         {
 417              		.loc 1 102 9 is_stmt 1 discriminator 2 view .LVU100
 418 0036 0134     		adds	r4, r4, #1
 419              	.LVL17:
 102:Lib/src/GUILib.cpp ****         {
 420              		.loc 1 102 9 is_stmt 0 discriminator 2 view .LVU101
 421 0038 E4B2     		uxtb	r4, r4
 422              	.LVL18:
 423              	.L27:
 102:Lib/src/GUILib.cpp ****         {
 424              		.loc 1 102 23 is_stmt 1 discriminator 1 view .LVU102
 425 003a B442     		cmp	r4, r6
 426 003c 37D2     		bcs	.L23
 104:Lib/src/GUILib.cpp ****             {
 427              		.loc 1 104 13 view .LVU103
 104:Lib/src/GUILib.cpp ****             {
 428              		.loc 1 104 25 is_stmt 0 view .LVU104
 429 003e 214B     		ldr	r3, .L32+4
 430 0040 9B8E     		ldrh	r3, [r3, #52]
 104:Lib/src/GUILib.cpp ****             {
 431              		.loc 1 104 38 view .LVU105
 432 0042 2546     		mov	r5, r4
 104:Lib/src/GUILib.cpp ****             {
 433              		.loc 1 104 30 view .LVU106
 434 0044 2341     		asrs	r3, r3, r4
 104:Lib/src/GUILib.cpp ****             {
 435              		.loc 1 104 13 view .LVU107
 436 0046 13F0010F 		tst	r3, #1
 437 004a EDD0     		beq	.L24
 106:Lib/src/GUILib.cpp ****                 {
 438              		.loc 1 106 17 is_stmt 1 view .LVU108
ARM GAS  /tmp/ccgZFYq9.s 			page 11


 106:Lib/src/GUILib.cpp ****                 {
 439              		.loc 1 106 31 is_stmt 0 view .LVU109
 440 004c 231D     		adds	r3, r4, #4
 441 004e 1D4A     		ldr	r2, .L32+4
 442 0050 02EB4303 		add	r3, r2, r3, lsl #1
 443 0054 9A88     		ldrh	r2, [r3, #4]
 106:Lib/src/GUILib.cpp ****                 {
 444              		.loc 1 106 42 view .LVU110
 445 0056 1A4B     		ldr	r3, .L32
 446 0058 1B88     		ldrh	r3, [r3]
 106:Lib/src/GUILib.cpp ****                 {
 447              		.loc 1 106 17 view .LVU111
 448 005a 9A42     		cmp	r2, r3
 449 005c EBD2     		bcs	.L25
 106:Lib/src/GUILib.cpp ****                 {
 450              		.loc 1 106 61 discriminator 1 view .LVU112
 451 005e 04F11003 		add	r3, r4, #16
 452 0062 1849     		ldr	r1, .L32+4
 453 0064 31F81330 		ldrh	r3, [r1, r3, lsl #1]
 106:Lib/src/GUILib.cpp ****                 {
 454              		.loc 1 106 72 discriminator 1 view .LVU113
 455 0068 1549     		ldr	r1, .L32
 456 006a 4988     		ldrh	r1, [r1, #2]
 106:Lib/src/GUILib.cpp ****                 {
 457              		.loc 1 106 48 discriminator 1 view .LVU114
 458 006c 8B42     		cmp	r3, r1
 459 006e E2D2     		bcs	.L25
 108:Lib/src/GUILib.cpp ****                     {
 460              		.loc 1 108 21 is_stmt 1 view .LVU115
 108:Lib/src/GUILib.cpp ****                     {
 461              		.loc 1 108 37 is_stmt 0 view .LVU116
 462 0070 0AA9     		add	r1, sp, #40
 463 0072 01EB8401 		add	r1, r1, r4, lsl #2
 464 0076 31F8280C 		ldrh	r0, [r1, #-40]
 108:Lib/src/GUILib.cpp ****                     {
 465              		.loc 1 108 21 view .LVU117
 466 007a 4FF6FF71 		movw	r1, #65535
 467 007e 8842     		cmp	r0, r1
 468 0080 CAD0     		beq	.L31
 469              	.L26:
 114:Lib/src/GUILib.cpp ****                     lastpos[t][0] = tp_dev.x[t];
 470              		.loc 1 114 21 is_stmt 1 view .LVU118
 114:Lib/src/GUILib.cpp ****                     lastpos[t][0] = tp_dev.x[t];
 471              		.loc 1 114 33 is_stmt 0 view .LVU119
 472 0082 0AA9     		add	r1, sp, #40
 473 0084 01EB8507 		add	r7, r1, r5, lsl #2
 474 0088 37F8261C 		ldrh	r1, [r7, #-38]
 475 008c 37F8280C 		ldrh	r0, [r7, #-40]
 476 0090 FFF7FEFF 		bl	LCD_DrawLine
 477              	.LVL19:
 115:Lib/src/GUILib.cpp ****                     lastpos[t][1] = tp_dev.y[t];
 478              		.loc 1 115 21 is_stmt 1 view .LVU120
 115:Lib/src/GUILib.cpp ****                     lastpos[t][1] = tp_dev.y[t];
 479              		.loc 1 115 47 is_stmt 0 view .LVU121
 480 0094 0B4A     		ldr	r2, .L32+4
 481 0096 2B1D     		adds	r3, r5, #4
 482 0098 02EB4303 		add	r3, r2, r3, lsl #1
ARM GAS  /tmp/ccgZFYq9.s 			page 12


 483 009c 9B88     		ldrh	r3, [r3, #4]
 115:Lib/src/GUILib.cpp ****                     lastpos[t][1] = tp_dev.y[t];
 484              		.loc 1 115 35 view .LVU122
 485 009e 27F8283C 		strh	r3, [r7, #-40]	@ movhi
 116:Lib/src/GUILib.cpp ****                 }
 486              		.loc 1 116 21 is_stmt 1 view .LVU123
 116:Lib/src/GUILib.cpp ****                 }
 487              		.loc 1 116 47 is_stmt 0 view .LVU124
 488 00a2 1035     		adds	r5, r5, #16
 489 00a4 32F81530 		ldrh	r3, [r2, r5, lsl #1]
 116:Lib/src/GUILib.cpp ****                 }
 490              		.loc 1 116 35 view .LVU125
 491 00a8 27F8263C 		strh	r3, [r7, #-38]	@ movhi
 492 00ac C3E7     		b	.L25
 493              	.L23:
 122:Lib/src/GUILib.cpp ****             }
 123:Lib/src/GUILib.cpp ****         }
 124:Lib/src/GUILib.cpp **** 
 125:Lib/src/GUILib.cpp ****         delay_ms(5);
 494              		.loc 1 125 9 is_stmt 1 view .LVU126
 495              		.loc 1 125 17 is_stmt 0 view .LVU127
 496 00ae 0520     		movs	r0, #5
 497 00b0 FFF7FEFF 		bl	delay_ms
 498              	.LVL20:
 499              	.L28:
  98:Lib/src/GUILib.cpp ****     {
 500              		.loc 1 98 5 is_stmt 1 view .LVU128
 100:Lib/src/GUILib.cpp **** 
 501              		.loc 1 100 9 view .LVU129
 100:Lib/src/GUILib.cpp **** 
 502              		.loc 1 100 16 is_stmt 0 view .LVU130
 503 00b4 034B     		ldr	r3, .L32+4
 504 00b6 5B68     		ldr	r3, [r3, #4]
 100:Lib/src/GUILib.cpp **** 
 505              		.loc 1 100 20 view .LVU131
 506 00b8 0020     		movs	r0, #0
 507 00ba 9847     		blx	r3
 508              	.LVL21:
 102:Lib/src/GUILib.cpp ****         {
 509              		.loc 1 102 16 view .LVU132
 510 00bc 0024     		movs	r4, #0
 511 00be BCE7     		b	.L27
 512              	.L33:
 513              		.align	2
 514              	.L32:
 515 00c0 00000000 		.word	lcddev
 516 00c4 00000000 		.word	tp_dev
 517              		.cfi_endproc
 518              	.LFE133:
 519              		.fnend
 521              		.global	button_act
 522              		.section	.bss._ZZ12Button_checkE1a,"aw",%nobits
 523              		.align	2
 524              		.set	.LANCHOR1,. + 0
 527              	_ZZ12Button_checkE1a:
 528 0000 00000000 		.space	4
 529              		.section	.bss._ZZ8obj_moveE10x_move_sit,"aw",%nobits
ARM GAS  /tmp/ccgZFYq9.s 			page 13


 530              		.align	1
 531              		.set	.LANCHOR3,. + 0
 534              	_ZZ8obj_moveE10x_move_sit:
 535 0000 0000     		.space	2
 536              		.section	.bss._ZZ8obj_moveE10y_move_sit,"aw",%nobits
 537              		.align	1
 538              		.set	.LANCHOR2,. + 0
 541              	_ZZ8obj_moveE10y_move_sit:
 542 0000 0000     		.space	2
 543              		.section	.bss.button_act,"aw",%nobits
 544              		.align	2
 545              		.set	.LANCHOR0,. + 0
 548              	button_act:
 549 0000 00000000 		.space	10
 549      00000000 
 549      0000
 550              		.text
 551              	.Letext0:
 552              		.file 2 "/home/ktkuri/arm-gcc-tools/arm-none-eabi/include/machine/_default_types.h"
 553              		.file 3 "/home/ktkuri/arm-gcc-tools/arm-none-eabi/include/sys/_stdint.h"
 554              		.file 4 "Libraries/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 555              		.file 5 "/home/ktkuri/arm-gcc-tools/lib/gcc/arm-none-eabi/10.2.1/include/stddef.h"
 556              		.file 6 "/home/ktkuri/arm-gcc-tools/arm-none-eabi/include/c++/10.2.1/cstdlib"
 557              		.file 7 "/home/ktkuri/arm-gcc-tools/arm-none-eabi/include/c++/10.2.1/bits/std_abs.h"
 558              		.file 8 "/home/ktkuri/arm-gcc-tools/arm-none-eabi/include/c++/10.2.1/arm-none-eabi/thumb/v7e-m+fp/
 559              		.file 9 "/home/ktkuri/arm-gcc-tools/arm-none-eabi/include/stdlib.h"
 560              		.file 10 "/home/ktkuri/arm-gcc-tools/arm-none-eabi/include/c++/10.2.1/stdlib.h"
 561              		.file 11 "HADRWARE/LCD/lcd.h"
 562              		.file 12 "HADRWARE/TOUCH/touch.h"
 563              		.file 13 "SYSTEM/delay/delay.h"
 564              		.file 14 "Lib/inc/GUILib.h"
 565              		.file 15 "HADRWARE/LCD/ltdc.h"
 566              		.file 16 "<built-in>"
ARM GAS  /tmp/ccgZFYq9.s 			page 14


DEFINED SYMBOLS
                            *ABS*:0000000000000000 GUILib.cpp
     /tmp/ccgZFYq9.s:18     .text.Button_check:0000000000000000 $t
     /tmp/ccgZFYq9.s:26     .text.Button_check:0000000000000000 Button_check
     /tmp/ccgZFYq9.s:235    .text.Button_check:0000000000000100 $d
     .ARM.exidx.text.Button_check:0000000000000000 $d
     /tmp/ccgZFYq9.s:243    .text.obj_move:0000000000000000 $t
     /tmp/ccgZFYq9.s:250    .text.obj_move:0000000000000000 obj_move
     /tmp/ccgZFYq9.s:341    .text.obj_move:0000000000000064 $d
         .ARM.exidx.text.obj_move:0000000000000000 $d
     /tmp/ccgZFYq9.s:349    .text._Z10witer_linev:0000000000000000 $t
     /tmp/ccgZFYq9.s:356    .text._Z10witer_linev:0000000000000000 _Z10witer_linev
     /tmp/ccgZFYq9.s:515    .text._Z10witer_linev:00000000000000c0 $d
  .ARM.exidx.text._Z10witer_linev:0000000000000000 $d
     /tmp/ccgZFYq9.s:548    .bss.button_act:0000000000000000 button_act
     /tmp/ccgZFYq9.s:523    .bss._ZZ12Button_checkE1a:0000000000000000 $d
     /tmp/ccgZFYq9.s:527    .bss._ZZ12Button_checkE1a:0000000000000000 _ZZ12Button_checkE1a
     /tmp/ccgZFYq9.s:530    .bss._ZZ8obj_moveE10x_move_sit:0000000000000000 $d
     /tmp/ccgZFYq9.s:534    .bss._ZZ8obj_moveE10x_move_sit:0000000000000000 _ZZ8obj_moveE10x_move_sit
     /tmp/ccgZFYq9.s:537    .bss._ZZ8obj_moveE10y_move_sit:0000000000000000 $d
     /tmp/ccgZFYq9.s:541    .bss._ZZ8obj_moveE10y_move_sit:0000000000000000 _ZZ8obj_moveE10y_move_sit
     /tmp/ccgZFYq9.s:544    .bss.button_act:0000000000000000 $d

UNDEFINED SYMBOLS
LCD_DrawRectangle
Printf
button_response
LTDC_Fill
tp_dev
__aeabi_unwind_cpp_pr0
LCD_DrawLine
delay_ms
lcddev
